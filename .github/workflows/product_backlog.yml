name: ğŸš€ Crear Backlog y Sprints - BrainBlitz Vision Computacional

on:
  workflow_dispatch:

permissions:
  contents: write
  issues: write
  pull-requests: write

jobs:
  setup-vision-backlog:
    runs-on: ubuntu-latest
    steps:
      # PASO 1: Checkout y configuraciÃ³n
      - name: Checkout repository
        uses: actions/checkout@v4

      # PASO 2: Verificar autenticaciÃ³n y permisos
      - name: Verificar configuraciÃ³n de GitHub CLI
        env:
          GITHUB_TOKEN: ${{ secrets.GH_PAT }}
        run: |
          echo "ğŸ” Verificando autenticaciÃ³n..."
          gh auth status
          echo "ğŸ“Š Verificando permisos del token..."
          gh api user

      # PASO 3: Crear proyecto con mÃ©todo mejorado
      - name: Crear Proyecto GitHub
        id: create_project
        env:
          GITHUB_TOKEN: ${{ secrets.GH_PAT }}
        run: |
          PROJECT_NAME="BrainBlitz - Computer Vision Backlog"
          echo "ğŸ”„ Buscando proyecto existente: $PROJECT_NAME"
          
          # MÃ©todo 1: Buscar proyecto existente usando API directa
          PROJECTS_JSON=$(gh api -X GET /user/projects?per_page=20)
          
          echo "ğŸ“‹ Proyectos existentes del usuario:"
          echo "$PROJECTS_JSON" | jq -r '.[] | "\(.number): \(.name)"' || echo "No se pudieron listar proyectos"
          
          PROJECT_NUMBER=$(echo "$PROJECTS_JSON" | jq -r ".[] | select(.name == \"$PROJECT_NAME\") | .number")
          
          if [ -n "$PROJECT_NUMBER" ] && [ "$PROJECT_NUMBER" != "null" ]; then
            echo "âœ… Proyecto '$PROJECT_NAME' ya existe con nÃºmero: $PROJECT_NUMBER"
            echo "PROJECT_NUMBER=$PROJECT_NUMBER" >> $GITHUB_OUTPUT
          else
            echo "ğŸ†• Proyecto '$PROJECT_NAME' no encontrado. CreÃ¡ndolo..."
            
            # MÃ©todo 2: Crear proyecto simple sin flags adicionales
              echo "ğŸ”§ Intentando crear proyecto con mÃ©todo simple..."
              CREATE_OUTPUT=$(gh project create --owner "@me" --title "$PROJECT_NAME" --format json 2>&1)
              
              if echo "$CREATE_OUTPUT" | grep -q "number"; then
                NEW_PROJECT_NUMBER=$(echo "$CREATE_OUTPUT" | jq -r '.number')
                echo "ğŸ‰ Proyecto creado exitosamente con nÃºmero: $NEW_PROJECT_NUMBER"
                echo "PROJECT_NUMBER=$NEW_PROJECT_NUMBER" >> $GITHUB_OUTPUT
              else
                echo "âŒ No se pudo crear el proyecto. Output: $CREATE_OUTPUT"
                echo "âš ï¸ Continuando sin proyecto - las issues se crearÃ¡n pero no se aÃ±adirÃ¡n al proyecto"
                echo "PROJECT_NUMBER=0" >> $GITHUB_OUTPUT
              fi
          fi

      # PASO 4: Crear etiquetas
      - name: Crear Etiquetas
        env:
          GITHUB_TOKEN: ${{ secrets.GH_PAT }}
        run: |
          echo "ğŸ·ï¸ Creando etiquetas..."
          
          # FunciÃ³n para crear etiquetas con manejo de errores
          create_label() {
            local name="$1"
            local color="$2"
            local description="$3"
            
            echo "ğŸ” Verificando etiqueta: $name"
            if gh label list | grep -q "$name"; then
              echo "âœ… Etiqueta '$name' ya existe"
            else
              echo "ğŸ†• Creando etiqueta: $name"
              gh label create "$name" --color "$color" --description "$description" \
                && echo "âœ… Etiqueta '$name' creada" \
                || echo "âš ï¸ No se pudo crear etiqueta '$name'"
            fi
          }

          # Etiquetas de prioridad
          create_label "Prioridad: Alta" "D93F0B" "Tarea crÃ­tica y bloqueante"
          create_label "Prioridad: Media" "FBCA04" "Tarea importante pero no urgente"
          create_label "Prioridad: Baja" "0E8A16" "Tarea menor o mejora deseable"
          
          # Etiquetas de tecnologÃ­a
          create_label "TecnologÃ­a: Azure" "0078D4" "Usa servicios de Azure"
          create_label "TecnologÃ­a: DeepFace" "6F42C1" "Usa DeepFace para reconocimiento facial"
          create_label "TecnologÃ­a: Firebase" "FF6D01" "IntegraciÃ³n con Firebase"
          create_label "IA: VisiÃ³n Computacional" "00B294" "Implementa visiÃ³n computacional"
          
          echo "âœ… Proceso de etiquetas completado"

      # PASO 5: Crear milestones
      - name: Crear Milestones
        env:
          GITHUB_TOKEN: ${{ secrets.GH_PAT }}
          GH_REPO: ${{ github.repository }}
        run: |
          echo "ğŸ“… Creando milestones..."
          
          create_milestone() {
            local title="$1"
            local description="$2"
            local due_date="$3"
            
            echo "ğŸ” Verificando milestone: $title"
            EXISTING_MILESTONE=$(gh milestone list --state all --json title,number | jq -r ".[] | select(.title == \"$title\") | .number" 2>/dev/null || echo "")
            
            if [ -n "$EXISTING_MILESTONE" ]; then
              echo "âœ… Milestone '$title' ya existe (NÃºmero: $EXISTING_MILESTONE)"
            else
              echo "ğŸ†• Creando milestone: $title"
              gh api --method POST \
                -H "Accept: application/vnd.github+json" \
                "/repos/${GH_REPO}/milestones" \
                -f title="$title" \
                -f description="$description" \
                -f due_on="$due_date" \
                && echo "âœ… Milestone creado: $title" \
                || echo "âŒ Error creando milestone: $title"
            fi
          }

          create_milestone \
            "Sprint 1: AutenticaciÃ³n y ExtracciÃ³n (17-19 Noviembre)" \
            "Implementar OCR y Reconocimiento Facial. Total: 21 Story Points" \
            "2025-11-19T23:59:59Z"

          create_milestone \
            "Sprint 2: AnÃ¡lisis Visual Avanzado (20-24 Noviembre)" \
            "Implementar anÃ¡lisis de imÃ¡genes y detecciÃ³n de objetos. Total: 20 Story Points" \
            "2025-11-24T23:59:59Z"

          create_milestone \
            "Release 1.0: Computer Vision Foundation (24 Noviembre)" \
            "Lanzamiento con todas las funcionalidades de visiÃ³n computacional" \
            "2025-11-24T23:59:59Z"

      # PASO 6: Crear issues (funciona con o sin proyecto)
      - name: Crear Issues de VisiÃ³n Computacional
        env:
          GITHUB_TOKEN: ${{ secrets.GH_PAT }}
        run: |
          echo "ğŸ“ Creando issues de visiÃ³n computacional..."
          
          create_issue() {
            local title="$1"
            local body="$2"
            local labels="$3"
            local milestone="$4"
            
            echo "ğŸ” Verificando issue: $title"
            EXISTING_ISSUE=$(gh issue list --state all --search "in:title \"$title\"" --json number -q ".[0].number" 2>/dev/null || echo "")
            
            if [ -n "$EXISTING_ISSUE" ] && [ "$EXISTING_ISSUE" != "null" ]; then
              echo "âœ… Issue '$title' ya existe (NÃºmero: $EXISTING_ISSUE)"
            else
              echo "ğŸ†• Creando issue: $title"
              gh issue create \
                --title "$title" \
                --body "$body" \
                --label "$labels" \
                --milestone "$milestone" \
                && echo "âœ… Issue creada: $title" \
                || echo "âŒ Error creando issue: $title"
            fi
          }

          # HU-VC2: OCR
          create_issue \
            "HU-VC2: [BE] OCR - ExtracciÃ³n de Texto de ImÃ¡genes" \
            "**ğŸ“… Fecha Objetivo:** Lunes 17 Noviembre 2025  
            **ğŸ”¢ EstimaciÃ³n:** 8 Story Points  
            **ğŸ¯ Prioridad:** Media  
            **ğŸ¤– Requiere IA:** âœ… SÃ­ (Azure Computer Vision OCR)

            ### Contexto
            Los usuarios y administradores de BrainBlitz necesitan una forma de convertir imÃ¡genes con texto (pantallas, documentos, carteles, capturas) en texto editable para generar preguntas automÃ¡ticamente o procesar contenido visual.

            ### Objetivo
            Implementar un sistema de reconocimiento Ã³ptico de caracteres (OCR) que permita extraer texto de imÃ¡genes subidas por usuarios o administradores, facilitando la creaciÃ³n de preguntas y el procesamiento de contenido visual.

            ### Criterios de AceptaciÃ³n

            **1. ConfiguraciÃ³n de Azure:**
            - âœ… Cuenta Azure con Computer Vision habilitado
            - âœ… API Key de Azure Computer Vision disponible
            - âœ… Variables de entorno configuradas en .env

            **2. Endpoint Backend:**
            - âœ… Ruta \`POST /api/vision/extract-text\` en \`backend-v1/routes/vision.routes.js\`
            - âœ… Controlador \`visionController.js\` con mÃ©todo \`extractText\`
            - âœ… Middleware de autenticaciÃ³n \`authenticate.js\`
            - âœ… ValidaciÃ³n de imagen en Base64 o archivo

            **3. IntegraciÃ³n con Azure OCR:**
            - âœ… POST a \`https://{endpoint}/vision/v3.2/read/analyze\`
            - âœ… Manejo de procesamiento asÃ­ncrono de Azure (analyze â†’ get results)
            - âœ… ExtracciÃ³n de todas las lÃ­neas de texto de la respuesta

            **4. Frontend:**
            - âœ… Componente \`OCRQuestionCreator.jsx\` con subida de imagen
            - âœ… Preview de imagen subida
            - âœ… BotÃ³n \"Extraer Texto\" â†’ llamada a \`/api/vision/extract-text\`
            - âœ… Textarea editable con texto extraÃ­do
            - âœ… IntegraciÃ³n con \`AIQuestionGenerator.jsx\`

            **5. Pruebas:**
            - âœ… Prueba unitaria de funciÃ³n de extracciÃ³n
            - âœ… Prueba de integraciÃ³n del endpoint completo
            - âœ… Prueba manual con JPG, PNG, PDF

            ### TecnologÃ­as
            - Azure Computer Vision OCR
            - Node.js
            - Express
            - React
            - Base64 encoding

            ### Dependencias
            - ConfiguraciÃ³n de Azure Computer Vision
            - Variables: \`AZURE_COMPUTER_VISION_KEY\`, \`AZURE_COMPUTER_VISION_ENDPOINT\`" \
            "Prioridad: Media,IA: VisiÃ³n Computacional,TecnologÃ­a: Azure" \
            "Sprint 1: AutenticaciÃ³n y ExtracciÃ³n (17-19 Noviembre)"

          # HU-VC1: Reconocimiento Facial
          create_issue \
            "HU-VC1: [BE] Reconocimiento Facial para Login y Registro" \
            "**ğŸ“… Fecha Objetivo:** Martes 18 Noviembre 2025  
            **ğŸ”¢ EstimaciÃ³n:** 13 Story Points  
            **ğŸ¯ Prioridad:** Alta  
            **ğŸ¤– Requiere IA:** âœ… SÃ­ (DeepFace + VGG-Face)

            ### Contexto
            Los usuarios de BrainBlitz necesitan una forma segura y moderna de autenticarse sin depender Ãºnicamente de contraseÃ±as. Se requiere implementar autenticaciÃ³n biomÃ©trica mediante reconocimiento facial.

            ### Objetivo
            Permitir que los usuarios se registren e inicien sesiÃ³n usando reconocimiento facial como mÃ©todo de autenticaciÃ³n alternativo o principal, mejorando la seguridad y la experiencia de usuario.

            ### Criterios de AceptaciÃ³n

            **1. Registro Facial:**
            - âœ… Endpoint \`POST /api/face/register\` que acepta imagen Base64 y token Firebase
            - âœ… ValidaciÃ³n de rostro visible usando DeepFace
            - âœ… GeneraciÃ³n de embeddings faciales con modelo VGG-Face
            - âœ… Almacenamiento de embeddings en Firestore asociados al userId
            - âœ… PrevenciÃ³n de duplicados (un usuario = un registro facial)

            **2. Login Facial:**
            - âœ… Endpoint \`POST /api/face/login\` que acepta imagen Base64 y email
            - âœ… BÃºsqueda de usuario por email en Firebase Auth
            - âœ… ComparaciÃ³n facial con embedding almacenado
            - âœ… Umbral de confianza mÃ­nimo (ej: 0.7)
            - âœ… GeneraciÃ³n de token personalizado de Firebase si verificaciÃ³n exitosa

            **3. Frontend - Registro Facial:**
            - âœ… Componente \`FaceRegister.jsx\` con vista previa de cÃ¡mara en tiempo real
            - âœ… Captura de foto del rostro
            - âœ… ConversiÃ³n a Base64
            - âœ… EnvÃ­o al endpoint \`/api/face/register\`
            - âœ… Indicador visual cuando se detecta un rostro

            **4. Frontend - Login Facial:**
            - âœ… Componente \`FaceLogin.jsx\` con campo de email y vista previa de cÃ¡mara
            - âœ… Captura de foto y envÃ­o al endpoint \`/api/face/login\`
            - âœ… IntegraciÃ³n con \`AuthContext\`
            - âœ… RedirecciÃ³n a pÃ¡gina principal despuÃ©s de login exitoso

            **5. Microservicio Facial:**
            - âœ… Servicio \`facial-service\` con DeepFace desplegado en Azure Container Instances
            - âœ… Health check: \`GET /health\` responde correctamente
            - âœ… ConfiguraciÃ³n de URL en \`.env\` como \`DEEPFACE_SERVICE_URL\`

            **6. Seguridad:**
            - âœ… Registro facial requiere token Firebase vÃ¡lido
            - âœ… Rate limiting en endpoints para prevenir ataques
            - âœ… Almacenamiento seguro de embeddings en Firestore

            ### TecnologÃ­as
            - DeepFace
            - VGG-Face (modelo de embeddings)
            - Azure Container Instances
            - Firebase Auth
            - React
            - getUserMedia API

            ### Dependencias
            - Microservicio facial desplegado
            - Firebase Auth configurado
            - Azure Container Instances" \
            "Prioridad: Alta,IA: VisiÃ³n Computacional,TecnologÃ­a: DeepFace,TecnologÃ­a: Firebase" \
            "Sprint 1: AutenticaciÃ³n y ExtracciÃ³n (17-19 Noviembre)"

          # HU-VC3: AnÃ¡lisis de ImÃ¡genes
          create_issue \
            "HU-VC3: [BE] AnÃ¡lisis Inteligente de ImÃ¡genes" \
            "**ğŸ“… Fecha Objetivo:** Jueves 20 Noviembre 2025  
            **ğŸ”¢ EstimaciÃ³n:** 10 Story Points  
            **ğŸ¯ Prioridad:** Media  
            **ğŸ¤– Requiere IA:** âœ… SÃ­ (Azure Computer Vision Analyze)

            ### Contexto
            Los usuarios y administradores de BrainBlitz necesitan generar preguntas automÃ¡ticamente a partir de imÃ¡genes. Se requiere un sistema que analice imÃ¡genes y genere descripciones, tags y categorÃ­as automÃ¡ticamente.

            ### Objetivo
            Implementar un sistema de anÃ¡lisis inteligente de imÃ¡genes que genere descripciones automÃ¡ticas, tags, categorÃ­as y metadatos de imÃ¡genes, permitiendo crear preguntas de trivia basadas en contenido visual de forma automÃ¡tica.

            ### Criterios de AceptaciÃ³n

            **1. Endpoint Backend:**
            - âœ… Ruta \`POST /api/vision/analyze-image\` en \`backend-v1/routes/vision.routes.js\`
            - âœ… MÃ©todo \`analyzeImage\` en \`visionController.js\`
            - âœ… AutenticaciÃ³n requerida
            - âœ… ValidaciÃ³n de imagen en Base64 o archivo, mÃ¡ximo 4MB

            **2. IntegraciÃ³n con Azure Analyze Image:**
            - âœ… POST a \`https://{endpoint}/vision/v3.2/analyze?visualFeatures=Description,Tags,Categories,Objects,Color\`
            - âœ… Procesamiento correcto de respuesta JSON
            - âœ… ExtracciÃ³n de: descripciÃ³n, tags, categorÃ­as, objetos y colores

            **3. Respuesta del Endpoint:**
            - âœ… Objeto JSON estructurado con descripciÃ³n, tags, categorÃ­as, objetos y colores
            - âœ… Niveles de confianza incluidos
            - âœ… Tags y categorÃ­as ordenados por confianza descendente

            **4. Frontend:**
            - âœ… Componente \`ImageAnalysisQuestionCreator.jsx\` con subida de imagen
            - âœ… Preview de imagen
            - âœ… BotÃ³n \"Analizar Imagen\" â†’ llamada a \`/api/vision/analyze-image\`
            - âœ… Resultados en secciones: DescripciÃ³n, Tags, CategorÃ­as, Objetos
            - âœ… BotÃ³n \"Generar Pregunta desde AnÃ¡lisis\"

            **5. GeneraciÃ³n AutomÃ¡tica de Preguntas:**
            - âœ… Usa descripciÃ³n como base para pregunta
            - âœ… Usa tags para sugerir categorÃ­a
            - âœ… Pre-llena campo: \"Â¿QuÃ© se muestra en esta imagen?\"
            - âœ… Sugiere opciones basadas en tags y objetos

            **6. Pruebas:**
            - âœ… Prueba unitaria con imagen de prueba
            - âœ… Prueba de integraciÃ³n del endpoint
            - âœ… Prueba con imÃ¡genes de arte, geografÃ­a, objetos, personas

            ### TecnologÃ­as
            - Azure Computer Vision Analyze Image
            - Node.js
            - Express
            - React

            ### Dependencias
            - Azure Computer Vision configurado
            - Variables: \`AZURE_COMPUTER_VISION_KEY\`, \`AZURE_COMPUTER_VISION_ENDPOINT\`" \
            "Prioridad: Media,IA: VisiÃ³n Computacional,TecnologÃ­a: Azure" \
            "Sprint 2: AnÃ¡lisis Visual Avanzado (20-24 Noviembre)"

          # HU-VC4: DetecciÃ³n de Objetos
          create_issue \
            "HU-VC4: [BE] DetecciÃ³n de Objetos en ImÃ¡genes" \
            "**ğŸ“… Fecha Objetivo:** Viernes 21 Noviembre 2025  
            **ğŸ”¢ EstimaciÃ³n:** 10 Story Points  
            **ğŸ¯ Prioridad:** Media  
            **ğŸ¤– Requiere IA:** âœ… SÃ­ (Azure Computer Vision Object Detection)

            ### Contexto
            Los usuarios de BrainBlitz necesitan crear preguntas visuales donde se identifiquen objetos especÃ­ficos en imÃ¡genes. Actualmente, no existe funcionalidad para detectar y localizar objetos en imÃ¡genes.

            ### Objetivo
            Implementar un sistema de detecciÃ³n de objetos que identifique y localice objetos especÃ­ficos dentro de imÃ¡genes, permitiendo crear preguntas interactivas basadas en la detecciÃ³n de objetos.

            ### Criterios de AceptaciÃ³n

            **1. Endpoint Backend:**
            - âœ… Ruta \`POST /api/vision/detect-objects\` en \`backend-v1/routes/vision.routes.js\`
            - âœ… MÃ©todo \`detectObjects\` en \`visionController.js\`
            - âœ… AutenticaciÃ³n requerida
            - âœ… ValidaciÃ³n de imagen en Base64 o archivo, mÃ¡ximo 4MB

            **2. IntegraciÃ³n con Azure Object Detection:**
            - âœ… POST a \`https://{endpoint}/vision/v3.2/detect\`
            - âœ… Procesamiento de respuesta JSON con objetos detectados
            - âœ… Lista de objetos con nombre, confianza, bounding box y Ã¡rea

            **3. Frontend - VisualizaciÃ³n:**
            - âœ… Componente \`ObjectDetectionQuestionCreator.jsx\` con subida de imagen
            - âœ… Preview de imagen con bounding boxes dibujados sobre objetos
            - âœ… Lista de objetos con nombre y nivel de confianza
            - âœ… Funcionalidades interactivas (hover sobre objeto â†’ resalta bounding box)

            **4. Frontend - GeneraciÃ³n de Preguntas:**
            - âœ… BotÃ³n \"Crear Pregunta de Objetos\"
            - âœ… Genera: \"Â¿QuÃ© objeto aparece en esta imagen?\" o \"Â¿CuÃ¡ntos [objeto] hay?\"
            - âœ… Usa objetos detectados como opciones
            - âœ… Marca objeto con mayor confianza como correcto

            **5. Tipos de Preguntas:**
            - âœ… Preguntas de identificaciÃ³n: \"Â¿QuÃ© objeto es este?\"
            - âœ… Preguntas de conteo: \"Â¿CuÃ¡ntos [objeto] hay en la imagen?\"
            - âœ… Sistema cuenta objetos del mismo tipo
            - âœ… Genera opciones numÃ©ricas (0, 1, 2, 3, 4+)

            **6. Pruebas:**
            - âœ… Prueba unitaria con imagen de prueba
            - âœ… Prueba de integraciÃ³n del endpoint
            - âœ… VerificaciÃ³n de detecciÃ³n de mÃºltiples objetos
            - âœ… VerificaciÃ³n de precisiÃ³n en bounding boxes

            ### TecnologÃ­as
            - Azure Computer Vision Object Detection
            - Node.js
            - Express
            - React
            - Canvas API (para dibujar bounding boxes)

            ### Dependencias
            - Azure Computer Vision configurado
            - Variables: \`AZURE_COMPUTER_VISION_KEY\`, \`AZURE_COMPUTER_VISION_ENDPOINT\`" \
            "Prioridad: Media,IA: VisiÃ³n Computacional,TecnologÃ­a: Azure" \
            "Sprint 2: AnÃ¡lisis Visual Avanzado (20-24 Noviembre)"

      # PASO 7: Crear ramas para las issues
      - name: Crear Ramas para Issues
        env:
          GITHUB_TOKEN: ${{ secrets.GH_PAT }}
        run: |
          echo "ğŸŒ¿ Creando ramas para issues..."
          gh issue list --state open --json number,title | jq -c '.[]' | while read issue; do
            ISSUE_NUMBER=$(echo $issue | jq -r '.number')
            ISSUE_TITLE=$(echo $issue | jq -r '.title')
            
            # Limpiar tÃ­tulo para nombre de rama
            BRANCH_NAME="hu-vc${ISSUE_NUMBER}-$(echo "$ISSUE_TITLE" | \
              sed -E 's/\[(BE|FE)\] //g' | \
              sed -E 's/HU-VC[0-9]+: //g' | \
              sed -E 's/[^a-zA-Z0-9]+/-/g' | \
              tr '[:upper:]' '[:lower:]' | \
              cut -c1-50)"
            
            echo "ğŸ” Verificando rama: $BRANCH_NAME"
            if git ls-remote --heads origin "$BRANCH_NAME" | grep -q "$BRANCH_NAME"; then
              echo "âœ… Rama '$BRANCH_NAME' ya existe."
            else
              echo "ğŸ†• Creando rama: $BRANCH_NAME"
              git fetch origin
              MAIN_SHA=$(git rev-parse origin/main)
              
              gh api repos/${{ github.repository }}/git/refs \
                --method POST \
                -f ref="refs/heads/${BRANCH_NAME}" \
                -f sha="$MAIN_SHA" \
                && echo "âœ… Rama creada: $BRANCH_NAME" \
                || echo "âš ï¸ No se pudo crear rama: $BRANCH_NAME"
            fi
          done

      # PASO 8: Resumen final
      - name: Mostrar resumen
        run: |
          echo "ğŸ‰ RESUMEN DE LA EJECUCIÃ“N"
          echo "=========================="
          echo "âœ… Etiquetas creadas/verificadas"
          echo "âœ… Milestones creados/verificados" 
          echo "âœ… Issues de visiÃ³n computacional creadas/verificadas"
          echo "âœ… Ramas creadas/verificadas"
          echo ""
          echo "ğŸ“‹ Para ver las issues:"
          echo "   https://github.com/${{ github.repository }}/issues"
          echo ""
          echo "ğŸ“… Para ver los milestones:"
          echo "   https://github.com/${{ github.repository }}/milestones"
          echo ""
          echo "ğŸŒ¿ Para ver las ramas:"
          echo "   https://github.com/${{ github.repository }}/branches"
