{"version":3,"file":"ProfilePage-WYV5OtKy.js","sources":["../../src/components/VoiceSettings.jsx","../../src/components/VoiceHistory.jsx","../../src/components/AudioTutorial.jsx","../../src/pages/ProfilePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useVoice } from '../VoiceContext';\nimport Button from './ui/Button';\nimport Input from './ui/Input';\nimport Alert from './ui/Alert';\nimport { Card, CardBody, CardHeader } from './ui/Card';\nimport voiceService from '../services/voiceService';\n\n// Funci√≥n para obtener nombres de idiomas amigables\nconst getLangName = (locale) => {\n  const langNames = {\n    'es-ES': 'Espa√±ol (Espa√±a)',\n    'es-MX': 'Espa√±ol (M√©xico)',\n    'es-AR': 'Espa√±ol (Argentina)',\n    'es-CO': 'Espa√±ol (Colombia)',\n    'en-US': 'Ingl√©s (Estados Unidos)',\n    'en-GB': 'Ingl√©s (Reino Unido)',\n    'pt-BR': 'Portugu√©s (Brasil)',\n    'fr-FR': 'Franc√©s',\n    'de-DE': 'Alem√°n',\n    'it-IT': 'Italiano'\n  };\n  return langNames[locale] || locale;\n};\n\nexport default function VoiceSettings() {\n  const { \n    isVoiceModeEnabled, \n    getVoiceSettings, \n    updateVoiceSettings, \n    getVoiceStatus,\n    isVoiceAvailable,\n    speak \n  } = useVoice();\n  \n  const [settings, setSettings] = useState({\n    rate: 1.0,\n    volume: 1.0,\n    pitch: 1.0,\n    voiceName: null,\n    language: 'es-ES',\n    style: 'general', // Estilo de habla para Azure\n    role: 'default' // Rol de la voz para Azure\n  });\n  \n  const [availableVoices, setAvailableVoices] = useState([]);\n  const [status, setStatus] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [languages, setLanguages] = useState([]);\n\n  useEffect(() => {\n    const initializeVoiceSettings = async () => {\n      setLoading(true);\n      setMessage('');\n      \n      try {\n        // Load saved settings first\n        loadSettings();\n        \n        // Get current status including voice availability\n        let status = getVoiceStatus();\n        setStatus(status);\n\n        // Attempt to get available voices\n        let voicesArray = [];\n        \n        // Try to get voices from the service first\n        try {\n          await voiceService.loadVoices();\n          voicesArray = voiceService.getAvailableVoices();\n          \n          // Refresh status after loading voices\n          status = getVoiceStatus();\n          setStatus(status);\n        } catch (err) {\n          console.error('Error loading voices from service:', err);\n          setMessage('Error al cargar las voces desde el servicio');\n        }\n\n        // If we have voices, update the component state\n        if (Array.isArray(voicesArray) && voicesArray.length > 0) {\n          console.log('Available voices:', voicesArray);\n          setAvailableVoices(voicesArray);\n\n          // Extract and sort unique languages\n          const uniqueLanguages = [...new Set(voicesArray\n            .map(voice => voice.locale)\n            .filter(locale => typeof locale === 'string' && locale.trim().length > 0)\n          )].sort();\n          \n          console.log('Unique languages:', uniqueLanguages);\n          setLanguages(uniqueLanguages);\n\n          // Validate current voice selection\n          const currentSettings = getVoiceSettings();\n          if (currentSettings.voiceName) {\n            const voiceExists = voicesArray.some(v => v.name === currentSettings.voiceName);\n            if (!voiceExists) {\n              // Select a default voice for the current language\n              const voicesForLanguage = voicesArray.filter(v => v.locale === currentSettings.language);\n              if (voicesForLanguage.length > 0) {\n                handleVoiceChange(voicesForLanguage[0].name);\n              }\n            }\n          }\n        } else {\n          console.warn('No voices available');\n          setMessage('No hay voces disponibles');\n        }\n      } catch (error) {\n        console.error('Error initializing voice settings:', error);\n        setMessage('Error al inicializar la configuraci√≥n de voz');\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    initializeVoiceSettings();\n  }, []);\n\n  const loadSettings = () => {\n    const currentSettings = getVoiceSettings();\n    \n    // Validar que el idioma actual tenga voces disponibles\n    if (currentSettings.language) {\n      const hasVoicesForLanguage = availableVoices.some(\n        voice => voice.locale === currentSettings.language\n      );\n      \n      if (!hasVoicesForLanguage) {\n        // Si no hay voces para el idioma actual, usar espa√±ol por defecto\n        currentSettings.language = 'es-ES';\n        console.log('Resetting to default language: es-ES');\n      }\n    }\n    \n    setSettings(currentSettings);\n    console.log('Loaded settings:', currentSettings);\n  };\n\n  const loadStatus = () => {\n    const currentStatus = getVoiceStatus();\n    setStatus(currentStatus);\n    \n    // Get voices from speechSynthesis API directly\n    if (typeof speechSynthesis !== 'undefined' && speechSynthesis.getVoices) {\n      const voices = speechSynthesis.getVoices();\n      setAvailableVoices(voices || []);\n    } else {\n      setAvailableVoices([]);\n    }\n  };\n\n  const handleSettingChange = async (key, value) => {\n    try {\n      // Validar el cambio antes de aplicarlo\n      if (key === 'language') {\n        // Verificar que el idioma exista en las voces disponibles\n        const isValidLanguage = availableVoices.some(voice => voice.locale === value);\n        if (!isValidLanguage) {\n          console.error('Invalid language selected:', value);\n          setMessage('Error: Idioma no v√°lido');\n          return;\n        }\n\n        // Encontrar voces disponibles para el nuevo idioma\n        const voicesForLanguage = availableVoices.filter(voice => voice.locale === value);\n        \n        // Crear nuevas configuraciones\n        const newSettings = { \n          ...settings, \n          language: value \n        };\n\n        // Si la voz actual no es v√°lida para el nuevo idioma, seleccionar una nueva\n        const currentVoice = availableVoices.find(v => v.name === settings.voiceName);\n        if (!currentVoice || currentVoice.locale !== value) {\n          if (voicesForLanguage.length > 0) {\n            newSettings.voiceName = voicesForLanguage[0].name;\n            console.log('Selecting new voice for language:', newSettings.voiceName);\n          }\n        }\n\n        // Actualizar estado local\n        setSettings(newSettings);\n        \n        // Actualizar servicio de voz\n        await updateVoiceSettings(newSettings);\n        \n        setMessage(`Idioma cambiado a ${getLangName(value)}`);\n      } else {\n        // Para otros cambios de configuraci√≥n\n        const newSettings = { ...settings, [key]: value };\n        setSettings(newSettings);\n        await updateVoiceSettings(newSettings);\n      }\n    } catch (err) {\n      console.error('Error updating settings:', err);\n      setMessage('Error al guardar la configuraci√≥n');\n    }\n  };\n\n  const handleVoiceChange = (voiceName) => {\n    console.log('handleVoiceChange called with', voiceName);\n    \n    const selectedVoice = availableVoices.find(voice => voice.name === voiceName);\n    if (selectedVoice) {\n      console.log('selectedVoice:', selectedVoice);\n      \n      // Create a settings update with both voice and language\n      const newSettings = {\n        ...settings,\n        voiceName: selectedVoice.name,\n        language: selectedVoice.locale\n      };\n      \n      // Update local state\n      setSettings(newSettings);\n      \n      // Update shared service/context\n      try {\n        updateVoiceSettings(newSettings);\n      } catch (err) {\n        console.error('Error updating voice settings:', err);\n        setMessage('Error al guardar la voz seleccionada');\n      }\n    } else {\n      console.warn('No matching voice found for', voiceName, 'availableVoices:', availableVoices);\n      setMessage('Error: No se encontr√≥ la voz seleccionada');\n    }\n  };\n\n  const testVoice = async () => {\n    if (!isVoiceModeEnabled) {\n      setMessage('Activa el modo de voz primero');\n      return;\n    }\n\n    setLoading(true);\n    setMessage('');\n    \n    try {\n      await speak('Esta es una prueba de voz. Puedes ajustar la velocidad, volumen y tono seg√∫n tus preferencias.');\n      setMessage('Prueba de voz completada');\n    } catch (error) {\n      setMessage('Error en la prueba de voz: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const resetToDefaults = () => {\n    const defaultSettings = {\n      rate: 1.0,\n      volume: 1.0,\n      pitch: 1.0,\n      voice: null,\n      language: 'es-ES'\n    };\n    setSettings(defaultSettings);\n    updateVoiceSettings(defaultSettings);\n    setMessage('Configuraci√≥n restaurada a valores por defecto');\n  };\n\n  if (!isVoiceAvailable) {\n    return (\n      <Card>\n        <CardHeader>\n          <h3 className=\"text-xl font-semibold\">Configuraci√≥n de Voz</h3>\n        </CardHeader>\n        <CardBody>\n          <Alert intent=\"warning\">\n            La funcionalidad de voz no est√° disponible en tu navegador. \n            Aseg√∫rate de usar un navegador compatible como Chrome, Firefox o Safari.\n          </Alert>\n        </CardBody>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <h3 className=\"text-xl font-semibold\">Configuraci√≥n de Voz</h3>\n          <p className=\"text-white/70\">\n            Personaliza la voz, velocidad y volumen para una mejor experiencia auditiva.\n          </p>\n        </CardHeader>\n        <CardBody className=\"space-y-6\">\n          {/* Language Selection */}\n          <div>\n            <label className=\"block mb-2 text-sm font-medium text-white/80\">\n              Idioma {loading ? '(Cargando...)' : `(${languages.length} disponibles)`}\n            </label>\n            <select\n              value={settings.language}\n              onChange={(e) => handleSettingChange('language', e.target.value)}\n              className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              {languages.length === 0 ? (\n                <option value=\"\">Cargando idiomas...</option>\n              ) : (\n                languages.map((lang) => (\n                  <option key={lang} value={lang}>\n                    {getLangName(lang)}\n                  </option>\n                ))\n              )}\n            </select>\n          </div>\n          \n          {message && (\n            <div className=\"text-sm text-yellow-400\">\n              {message}\n            </div>\n          )}\n\n          {/* Voice Selection */}\n          <div>\n            <label className=\"block mb-2 text-sm font-medium text-white/80\">\n              Voz\n            </label>\n            <select\n              value={settings.voiceName || ''}\n              onChange={(e) => handleVoiceChange(e.target.value)}\n              className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">Selecciona una voz</option>\n              {availableVoices\n                .filter(voice => voice.locale === settings.language)\n                .map((voice, index) => (\n                  <option key={index} value={voice.name}>\n                    {voice.displayName ? `${voice.displayName} ${voice.gender ? `(${voice.gender === 'Female' ? 'Femenina' : 'Masculina'})` : ''}` : `${voice.name} ${voice.gender ? `(${voice.gender === 'Female' ? 'Femenina' : 'Masculina'})` : ''}`}\n                  </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Rate (Speed) */}\n          <div>\n            <label className=\"block mb-2 text-sm font-medium text-white/80\">\n              Velocidad: {settings.rate}x\n            </label>\n            <input\n              type=\"range\"\n              min=\"0.5\"\n              max=\"2\"\n              step=\"0.1\"\n              value={settings.rate}\n              onChange={(e) => handleSettingChange('rate', parseFloat(e.target.value))}\n              className=\"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer slider\"\n            />\n            <div className=\"flex justify-between text-xs text-white/60 mt-1\">\n              <span>0.5x</span>\n              <span>1x</span>\n              <span>2x</span>\n            </div>\n          </div>\n\n          {/* Volume */}\n          <div>\n            <label className=\"block mb-2 text-sm font-medium text-white/80\">\n              Volumen: {Math.round(settings.volume * 100)}%\n            </label>\n            <input\n              type=\"range\"\n              min=\"0\"\n              max=\"1\"\n              step=\"0.1\"\n              value={settings.volume}\n              onChange={(e) => handleSettingChange('volume', parseFloat(e.target.value))}\n              className=\"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer slider\"\n            />\n            <div className=\"flex justify-between text-xs text-white/60 mt-1\">\n              <span>0%</span>\n              <span>50%</span>\n              <span>100%</span>\n            </div>\n          </div>\n\n          {/* Pitch */}\n          <div>\n            <label className=\"block mb-2 text-sm font-medium text-white/80\">\n              Tono: {settings.pitch}\n            </label>\n            <input\n              type=\"range\"\n              min=\"0.5\"\n              max=\"2\"\n              step=\"0.1\"\n              value={settings.pitch}\n              onChange={(e) => handleSettingChange('pitch', parseFloat(e.target.value))}\n              className=\"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer slider\"\n            />\n            <div className=\"flex justify-between text-xs text-white/60 mt-1\">\n              <span>Bajo</span>\n              <span>Normal</span>\n              <span>Alto</span>\n            </div>\n          </div>\n\n          {/* single Language selector is above; removed duplicate below */}\n\n          {/* Status Info */}\n          <div className=\"p-4 bg-white/5 rounded-lg\">\n            <h4 className=\"text-sm font-medium text-white/80 mb-2\">Estado del Sistema</h4>\n            <div className=\"text-xs text-white/60 space-y-1\">\n              <div>Disponible: {status.isAvailable ? '‚úÖ S√≠' : '‚ùå No'}</div>\n              <div>Reproduciendo: {status.isSpeaking ? 'üîä S√≠' : 'üîá No'}</div>\n              <div>Voces disponibles: {Array.isArray(status.availableVoices) ? status.availableVoices.length : (status.availableVoices || 0)}</div>\n            </div>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex gap-3\">\n            <Button\n              onClick={testVoice}\n              disabled={loading || !isVoiceModeEnabled}\n              variant=\"primary\"\n            >\n              {loading ? 'Probando...' : 'üîä Probar Voz'}\n            </Button>\n            \n            <Button\n              onClick={resetToDefaults}\n              variant=\"secondary\"\n            >\n              üîÑ Restaurar\n            </Button>\n          </div>\n\n          {message && (\n            <Alert intent={message.includes('Error') ? 'error' : 'success'}>\n              {message}\n            </Alert>\n          )}\n        </CardBody>\n      </Card>\n    </div>\n  );\n}\n\n","import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../AuthContext';\nimport { useVoice } from '../VoiceContext';\nimport Button from './ui/Button';\nimport Alert from './ui/Alert';\nimport { Card, CardBody, CardHeader } from './ui/Card';\nimport LoadingOverlay from './ui/LoadingOverlay';\n\nexport default function VoiceHistory() {\n  const { user } = useAuth();\n  const { voiceInteractionsService } = useVoice();\n  const [history, setHistory] = useState([]);\n  const [stats, setStats] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [message, setMessage] = useState('');\n\n  const isVoiceAnswer = (interaction) => {\n    return interaction && ['voice_answer', 'voice_answer_assemblyai'].includes(interaction.action);\n  };\n\n  const isAssemblyAIUsed = (interaction) => {\n    if (!interaction) return false;\n    const md = interaction.metadata || {};\n    return (\n      interaction.action === 'voice_answer_assemblyai' ||\n      md.assemblyAIProcessed === true ||\n      md.assemblyAIUsed === true ||\n      (md.assemblyAIResult && md.assemblyAIResult.success === true)\n    );\n  };\n\n  useEffect(() => {\n    if (user) {\n      loadHistory();\n      loadStats();\n    }\n  }, [user]);\n\n  const loadHistory = async () => {\n    if (!user) return;\n    \n    setLoading(true);\n    setError('');\n    \n    try {\n      const historyData = await voiceInteractionsService.getUserVoiceHistory(user.uid);\n      setHistory(historyData);\n    } catch (error) {\n      setError('Error cargando el historial de voz');\n      console.error('Error loading voice history:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadStats = async () => {\n    if (!user) return;\n    \n    try {\n      const statsData = await voiceInteractionsService.getUserVoiceStats(user.uid);\n      setStats(statsData);\n    } catch (error) {\n      console.error('Error loading voice stats:', error);\n    }\n  };\n\n  const deleteHistory = async () => {\n    if (!user) return;\n    \n    if (!confirm('¬øEst√°s seguro de que quieres eliminar todo tu historial de voz? Esta acci√≥n no se puede deshacer.')) {\n      return;\n    }\n    \n    setLoading(true);\n    setMessage('');\n    \n    try {\n      await voiceInteractionsService.deleteUserVoiceHistory(user.uid);\n      setHistory([]);\n      setStats({ total: 0, averageDuration: 0 });\n      setMessage('Historial eliminado correctamente');\n    } catch (error) {\n      setError('Error eliminando el historial');\n      console.error('Error deleting voice history:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const exportHistory = () => {\n    if (history.length === 0) {\n      setMessage('No hay historial para exportar');\n      return;\n    }\n    \n    const dataStr = JSON.stringify(history, null, 2);\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `voice-history-${new Date().toISOString().split('T')[0]}.json`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n    \n    setMessage('Historial exportado correctamente');\n  };\n\n  const formatDuration = (ms) => {\n    if (ms < 1000) return `${ms}ms`;\n    return `${(ms / 1000).toFixed(1)}s`;\n  };\n\n  const formatDate = (timestamp) => {\n    // Handle Firestore Timestamp object, ISO string, or number\n    if (!timestamp) return '';\n    // Firestore Timestamp object: { seconds, nanoseconds }\n    if (typeof timestamp === 'object' && timestamp.seconds) {\n      return new Date(timestamp.seconds * 1000).toLocaleString('es-ES');\n    }\n    // If it's a string or number, try to parse as Date\n    const date = new Date(timestamp);\n    if (!isNaN(date.getTime())) {\n      return date.toLocaleString('es-ES');\n    }\n    return '';\n  };\n\n  const totalVoiceAnswers = history.filter(isVoiceAnswer).length;\n  const assemblyAIVoiceAnswers = history.filter((h) => isVoiceAnswer(h) && isAssemblyAIUsed(h)).length;\n\n  const getActionLabel = (action) => {\n    const labels = {\n      'question_read': 'Lectura de pregunta',\n      'option_read': 'Lectura de opci√≥n',\n      'voice_answer': 'Respuesta por voz',\n      'voice_answer_assemblyai': 'Respuesta por voz (AssemblyAI)',\n      'settings_changed': 'Cambio de configuraci√≥n',\n      'tutorial_start': 'Inicio de tutorial',\n      'tutorial_step': 'Paso de tutorial',\n      'tutorial_end': 'Fin de tutorial',\n      'text_read': 'Lectura de texto'\n    };\n    return labels[action] || action;\n  };\n\n  if (!user) {\n    return (\n      <Card>\n        <CardBody>\n          <Alert intent=\"warning\">\n            Debes iniciar sesi√≥n para ver tu historial de voz.\n          </Alert>\n        </CardBody>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Stats Card */}\n      <Card>\n        <CardHeader>\n          <h3 className=\"text-xl font-semibold\">Estad√≠sticas de Voz</h3>\n        </CardHeader>\n        <CardBody>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"text-center p-4 bg-white/5 rounded-lg\">\n              <div className=\"text-2xl font-bold text-blue-400\">{stats.total || 0}</div>\n              <div className=\"text-sm text-white/70\">Total de interacciones</div>\n            </div>\n            <div className=\"text-center p-4 bg-white/5 rounded-lg\">\n              <div className=\"text-2xl font-bold text-green-400\">\n                {stats.averageDuration ? formatDuration(stats.averageDuration) : '0ms'}\n              </div>\n              <div className=\"text-sm text-white/70\">Duraci√≥n promedio</div>\n            </div>\n            <div className=\"text-center p-4 bg-white/5 rounded-lg\">\n              <div className=\"text-2xl font-bold text-purple-400\">{totalVoiceAnswers}</div>\n              <div className=\"text-sm text-white/70\">Respuestas por voz</div>\n            </div>\n            <div className=\"text-center p-4 bg-white/5 rounded-lg\">\n              <div className=\"text-2xl font-bold text-indigo-400\">{assemblyAIVoiceAnswers}</div>\n              <div className=\"text-sm text-white/70\">Resp. por voz (AssemblyAI)</div>\n            </div>\n          </div>\n        </CardBody>\n      </Card>\n\n      {/* History Card */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex justify-between items-center\">\n            <h3 className=\"text-xl font-semibold\">Historial de Interacciones</h3>\n            <div className=\"flex gap-2\">\n              <Button\n                onClick={exportHistory}\n                variant=\"secondary\"\n                size=\"sm\"\n                disabled={history.length === 0}\n              >\n                üì• Exportar\n              </Button>\n              <Button\n                onClick={deleteHistory}\n                variant=\"outline\"\n                size=\"sm\"\n                disabled={history.length === 0}\n              >\n                üóëÔ∏è Eliminar\n              </Button>\n            </div>\n          </div>\n        </CardHeader>\n        <CardBody>\n          {loading ? (\n            <LoadingOverlay />\n          ) : error ? (\n            <Alert intent=\"error\">{error}</Alert>\n          ) : history.length === 0 ? (\n            <div className=\"text-center py-8 text-white/60\">\n              <div className=\"text-4xl mb-4\">üé§</div>\n              <p>No hay interacciones de voz registradas</p>\n              <p className=\"text-sm\">Las interacciones aparecer√°n aqu√≠ cuando uses el modo de voz</p>\n            </div>\n          ) : (\n            <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n              {history.map((interaction, index) => (\n                <div\n                  key={index}\n                  className=\"p-4 bg-white/5 rounded-lg border border-white/10\"\n                >\n                  <div className=\"flex justify-between items-start mb-2\">\n                    <div className=\"font-medium text-white/90\">\n                      {getActionLabel(interaction.action)}\n                    </div>\n                    <div className=\"text-xs text-white/60\">\n                      {formatDate(interaction.timestamp)}\n                    </div>\n                  </div>\n                  \n                  {interaction.voiceText && (\n                    <div className=\"text-sm text-white/80 mb-2\">\n                      &quot;{interaction.voiceText}&quot;\n                    </div>\n                  )}\n                  \n                  <div className=\"flex justify-between items-center text-xs text-white/60\">\n                    <div>\n                      {interaction.duration > 0 && (\n                        <span>Duraci√≥n: {formatDuration(interaction.duration)}</span>\n                      )}\n                    </div>\n                    <div>\n                      {interaction.confidence && (\n                        <span>Confianza: {Math.round(interaction.confidence * 100)}%</span>\n                      )}\n                    </div>\n                  </div>\n                  \n                  {isVoiceAnswer(interaction) && (\n                    <div className=\"mt-2 text-xs\">\n                      <span className={`inline-block px-2 py-1 rounded ${isAssemblyAIUsed(interaction) ? 'bg-green-500/20 text-green-300 border border-green-500/30' : 'bg-yellow-500/20 text-yellow-300 border border-yellow-500/30'}`}>\n                        AssemblyAI: {isAssemblyAIUsed(interaction) ? 'S√≠' : 'No'}\n                      </span>\n                    </div>\n                  )}\n\n                  {interaction.metadata && Object.keys(interaction.metadata).length > 0 && (\n                    <details className=\"mt-2\">\n                      <summary className=\"text-xs text-white/60 cursor-pointer\">\n                        Ver detalles\n                      </summary>\n                      <pre className=\"text-xs text-white/50 mt-1 p-2 bg-black/20 rounded\">\n                        {JSON.stringify(interaction.metadata, null, 2)}\n                      </pre>\n                    </details>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n        </CardBody>\n      </Card>\n\n      {message && (\n        <Alert intent={message.includes('Error') ? 'error' : 'success'}>\n          {message}\n        </Alert>\n      )}\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../AuthContext';\nimport { useVoice } from '../VoiceContext';\nimport Button from './ui/Button';\nimport Alert from './ui/Alert';\nimport { Card, CardBody, CardHeader } from './ui/Card';\nimport LoadingOverlay from './ui/LoadingOverlay';\n\nconst TUTORIAL_STEPS = [\n  {\n    id: 'welcome',\n    title: 'Bienvenido al Tutorial de Voz',\n    content: 'Te damos la bienvenida al tutorial de accesibilidad de BrainBlitz. Este tutorial te ense√±ar√° c√≥mo usar todas las funcionalidades de voz disponibles.',\n    duration: 8000\n  },\n  {\n    id: 'voice_mode',\n    title: 'Modo de Voz',\n    content: 'El modo de voz se activa autom√°ticamente si indicaste tener dificultades visuales durante el registro. Tambi√©n puedes activarlo manualmente desde la barra de navegaci√≥n.',\n    duration: 10000\n  },\n  {\n    id: 'question_reading',\n    title: 'Lectura de Preguntas',\n    content: 'Cuando aparezca una pregunta, se leer√° autom√°ticamente junto con todas las opciones de respuesta. Tambi√©n puedes usar el bot√≥n \"Leer\" para repetir la pregunta.',\n    duration: 12000\n  },\n  {\n    id: 'voice_settings',\n    title: 'Configuraci√≥n de Voz',\n    content: 'Puedes personalizar la voz, velocidad, volumen y tono en la configuraci√≥n. Usa el bot√≥n \"Probar Voz\" para escuchar c√≥mo suenan los cambios.',\n    duration: 10000\n  },\n  {\n    id: 'voice_answers',\n    title: 'Respuestas por Voz',\n    content: 'Puedes responder a las preguntas diciendo \"A\", \"B\", \"C\", \"D\" o \"primera opci√≥n\", \"segunda opci√≥n\", etc. El sistema reconocer√° tu respuesta.',\n    duration: 12000\n  },\n  {\n    id: 'voice_history',\n    title: 'Historial de Voz',\n    content: 'Todas tus interacciones de voz se registran en tu historial personal. Puedes ver estad√≠sticas de uso y exportar tus datos.',\n    duration: 8000\n  },\n  {\n    id: 'navigation',\n    title: 'Navegaci√≥n por Voz',\n    content: 'Usa los botones de navegaci√≥n para moverte por la aplicaci√≥n. El modo de voz te ayudar√° a entender qu√© hace cada bot√≥n.',\n    duration: 8000\n  },\n  {\n    id: 'completion',\n    title: 'Tutorial Completado',\n    content: '¬°Felicitaciones! Has completado el tutorial de accesibilidad. Ahora puedes disfrutar de BrainBlitz con todas las funcionalidades de voz activadas.',\n    duration: 6000\n  }\n];\n\nexport default function AudioTutorial({ onComplete, onSkip }) {\n  const { \n    isVoiceModeEnabled, \n    speak, \n    stopSpeaking, \n    isVoiceAvailable,\n    voiceInteractionsService \n  } = useVoice();\n  const { user } = useAuth();\n  \n  const [currentStep, setCurrentStep] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const currentTutorialStep = TUTORIAL_STEPS[currentStep];\n  const isLastStep = currentStep === TUTORIAL_STEPS.length - 1;\n  const isFirstStep = currentStep === 0;\n\n  useEffect(() => {\n    // Auto-start tutorial if voice mode is enabled\n    if (isVoiceModeEnabled && isVoiceAvailable && !isPlaying && !isPaused) {\n      startTutorial();\n    }\n  }, [isVoiceModeEnabled, isVoiceAvailable]);\n\n  const startTutorial = async () => {\n    if (!isVoiceModeEnabled) {\n      setError('Activa el modo de voz para usar el tutorial');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n    setIsPlaying(true);\n    setIsPaused(false);\n    setProgress(0);\n\n    try {\n      // Log tutorial start\n      if (voiceInteractionsService && user?.uid) {\n        await voiceInteractionsService.logTutorialInteraction(\n          user.uid,\n          0,\n          'start',\n          0\n        );\n      }\n      await playCurrentStep(0);\n    } catch (error) {\n      setError('Error reproduciendo el tutorial: ' + error.message);\n      setIsPlaying(false);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const playCurrentStep = async (stepIndex = currentStep) => {\n    const step = TUTORIAL_STEPS[stepIndex];\n    const fullText = `${step.title}. ${step.content}`;\n    \n    // Log tutorial interaction\n    if (voiceInteractionsService && user?.uid) {\n      await voiceInteractionsService.logTutorialInteraction(\n        user.uid,\n        stepIndex,\n        'step',\n        step.duration\n      );\n    }\n\n    // Simulate progress\n    const progressInterval = setInterval(() => {\n      setProgress(prev => {\n        const newProgress = prev + (100 / (step.duration / 100));\n        return newProgress >= 100 ? 100 : newProgress;\n      });\n    }, 100);\n\n    try {\n      await speak(fullText, {\n        action: 'tutorial_step',\n        questionId: 'tutorial',\n        metadata: {\n          stepId: step.id,\n          stepTitle: step.title,\n          stepIndex\n        }\n      });\n    } finally {\n      clearInterval(progressInterval);\n      setProgress(100);\n    }\n  };\n\n  const pauseTutorial = () => {\n    stopSpeaking();\n    setIsPaused(true);\n    setIsPlaying(false);\n  };\n\n  const resumeTutorial = async () => {\n    setIsPaused(false);\n    setIsPlaying(true);\n    await playCurrentStep();\n  };\n\n  const stopTutorial = () => {\n    stopSpeaking();\n    setIsPlaying(false);\n    setIsPaused(false);\n    setProgress(0);\n  };\n\n  const nextStep = async () => {\n    if (isLastStep) {\n      await completeTutorial();\n      return;\n    }\n\n    setCurrentStep(prev => {\n      const next = prev + 1;\n      setProgress(0);\n      if (isPlaying) {\n        // Play using the next index to avoid stale state\n        playCurrentStep(next);\n      }\n      return next;\n    });\n  };\n\n  const previousStep = async () => {\n    if (isFirstStep) return;\n\n    setCurrentStep(prev => {\n      const prevIdx = prev - 1;\n      setProgress(0);\n      if (isPlaying) {\n        playCurrentStep(prevIdx);\n      }\n      return prevIdx;\n    });\n  };\n\n  const completeTutorial = async () => {\n    setLoading(true);\n    \n    try {\n      // Log tutorial completion\n      if (voiceInteractionsService && user?.uid) {\n        await voiceInteractionsService.logTutorialInteraction(\n          user.uid,\n          currentStep,\n          'completed',\n          0\n        );\n      }\n\n      await speak('Tutorial completado. ¬°Disfruta de BrainBlitz!', {\n        action: 'tutorial_completed',\n        questionId: 'tutorial'\n      });\n\n      if (onComplete) {\n        onComplete();\n      }\n    } catch (error) {\n      setError('Error completando el tutorial: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const skipTutorial = () => {\n    stopTutorial();\n    if (onSkip) {\n      onSkip();\n    }\n  };\n\n  if (!isVoiceAvailable) {\n    return (\n      <Card>\n        <CardBody>\n          <Alert intent=\"warning\">\n            El tutorial de voz no est√° disponible en tu navegador. \n            Aseg√∫rate de usar un navegador compatible como Chrome, Firefox o Safari.\n          </Alert>\n        </CardBody>\n      </Card>\n    );\n  }\n\n  if (!isVoiceModeEnabled) {\n    return (\n      <Card>\n        <CardBody className=\"p-6\">\n          <Alert intent=\"info\">\n            <div className=\"space-y-4 p-4\">\n              <p className=\"text-base leading-relaxed\">Activa el modo de voz para acceder al tutorial de accesibilidad.</p>\n              <Button onClick={() => window.location.reload()} className=\"mt-2\">\n                Activar Modo de Voz\n              </Button>\n            </div>\n          </Alert>\n        </CardBody>\n      </Card>\n    );\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <h3 className=\"text-xl font-semibold\">Tutorial de Accesibilidad</h3>\n        <p className=\"text-white/70\">\n          Paso {currentStep + 1} de {TUTORIAL_STEPS.length}: {currentTutorialStep.title}\n        </p>\n      </CardHeader>\n      <CardBody className=\"space-y-6\">\n        {loading && <LoadingOverlay />}\n\n        {/* Progress Bar */}\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between text-sm text-white/70\">\n            <span>Progreso del paso</span>\n            <span>{Math.round(progress)}%</span>\n          </div>\n          <div className=\"w-full bg-white/20 rounded-full h-2\">\n            <div \n              className=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\n              style={{ width: `${progress}%` }}\n            />\n          </div>\n        </div>\n\n        {/* Step Content */}\n        <div className=\"p-4 bg-white/5 rounded-lg\">\n          <h4 className=\"font-medium text-white/90 mb-2\">\n            {currentTutorialStep.title}\n          </h4>\n          <p className=\"text-white/80 text-sm leading-relaxed\">\n            {currentTutorialStep.content}\n          </p>\n        </div>\n\n        {/* Controls */}\n        <div className=\"flex flex-wrap gap-3\">\n          {!isPlaying && !isPaused && (\n            <Button onClick={startTutorial} variant=\"primary\">\n              ‚ñ∂Ô∏è Iniciar Tutorial\n            </Button>\n          )}\n\n          {isPlaying && (\n            <Button onClick={pauseTutorial} variant=\"secondary\">\n              ‚è∏Ô∏è Pausar\n            </Button>\n          )}\n\n          {isPaused && (\n            <Button onClick={resumeTutorial} variant=\"primary\">\n              ‚ñ∂Ô∏è Continuar\n            </Button>\n          )}\n\n          {(isPlaying || isPaused) && (\n            <Button onClick={stopTutorial} variant=\"outline\">\n              ‚èπÔ∏è Detener\n            </Button>\n          )}\n\n          {!isFirstStep && (\n            <Button onClick={previousStep} variant=\"secondary\">\n              ‚èÆÔ∏è Anterior\n            </Button>\n          )}\n\n          {!isLastStep && (\n            <Button onClick={nextStep} variant=\"primary\">\n              ‚è≠Ô∏è Siguiente\n            </Button>\n          )}\n\n          {isLastStep && (\n            <Button onClick={completeTutorial} variant=\"primary\">\n              ‚úÖ Completar\n            </Button>\n          )}\n\n          <Button onClick={skipTutorial} variant=\"outline\">\n            ‚è≠Ô∏è Omitir Tutorial\n          </Button>\n        </div>\n\n        {/* Step Navigation */}\n        <div className=\"flex justify-center\">\n          <div className=\"flex gap-2\">\n            {TUTORIAL_STEPS.map((_, index) => (\n              <button\n                key={index}\n                onClick={() => {\n                  setCurrentStep(() => {\n                    setProgress(0);\n                    if (isPlaying) {\n                      playCurrentStep(index);\n                    }\n                    return index;\n                  });\n                }}\n                className={`w-3 h-3 rounded-full transition-colors ${\n                  index === currentStep \n                    ? 'bg-blue-500' \n                    : index < currentStep \n                      ? 'bg-green-500' \n                      : 'bg-white/30'\n                }`}\n                title={`Paso ${index + 1}: ${TUTORIAL_STEPS[index].title}`}\n              />\n            ))}\n          </div>\n        </div>\n\n        {error && (\n          <Alert intent=\"error\">{error}</Alert>\n        )}\n      </CardBody>\n    </Card>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useAuth } from '../AuthContext';\nimport { useVoice } from '../VoiceContext';\nimport backendAuthService from '../services/backendAuthService';\nimport { Card, CardBody, CardHeader } from '../components/ui/Card';\nimport Alert from '../components/ui/Alert';\nimport Button from '../components/ui/Button';\nimport VoiceSettings from '../components/VoiceSettings';\nimport VoiceHistory from '../components/VoiceHistory';\nimport AudioTutorial from '../components/AudioTutorial';\n// Removed diagnostic from profile per request\n\nfunction ProfilePage() {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const { userHasVisualDifficulty, isVoiceModeEnabled, toggleVoiceMode } = useVoice();\n  const [stats, setStats] = useState(null);\n  const [apiError, setApiError] = useState('');\n  const [apiRaw, setApiRaw] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('profile');\n\n  useEffect(() => {\n    async function fetchProfile() {\n      if (!user) return;\n      let statsData = null;\n      try {\n        const apiBase = import.meta.env.VITE_API_URL;\n        // ‚úÖ Get Firebase ID token from user\n        const token = user && (await user.getIdToken());\n        const statsRes = await fetch(`${apiBase}/users/me/stats?uid=${user.uid}`,\n          {\n            headers: {\n              'Authorization': token ? `Bearer ${token}` : '',\n              'Content-Type': 'application/json'\n            }\n          }\n        );\n        if (statsRes.ok) {\n          statsData = await statsRes.json();\n          setApiRaw(statsData);\n        } else {\n          setApiError(`Error HTTP: ${statsRes.status}`);\n        }\n      } catch (err) {\n        setApiError('Error de conexi√≥n: ' + err.message);\n      }\n      setStats(statsData?.stats || null);\n      setLoading(false);\n    }\n    fetchProfile();\n  }, [user]);\n\n  if (loading) return (\n    <div className=\"px-4 py-10 min-h-screen container\">\n      <Card>\n        <CardBody className=\"flex items-center justify-center py-12\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\" aria-busy=\"true\"></div>\n            <p className=\"text-white/70\">Cargando perfil...</p>\n          </div>\n        </CardBody>\n      </Card>\n    </div>\n  );\n  const tabs = [\n    { id: 'profile', label: 'Perfil', icon: 'üë§' },\n    { id: 'voice-settings', label: 'Configuraci√≥n de Voz', icon: 'üé§' },\n    { id: 'voice-history', label: 'Historial de Voz', icon: 'üìä' },\n    { id: 'tutorial', label: 'Tutorial', icon: 'üìö' }\n  ];\n\n  return (\n    <div className=\"container min-h-screen px-4 py-8 pt-24\">\n      <div className=\"mx-auto max-w-4xl space-y-6\">\n        {/* Back to Dashboard Button */}\n        <div className=\"flex items-center gap-4 mb-4\">\n          <button\n            onClick={() => navigate('/dashboard')}\n            className=\"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white/70 hover:text-white bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-400\"\n            aria-label=\"Volver al dashboard\"\n          >\n            <span className=\"text-lg\">‚Üê</span>\n            <span>Volver al Dashboard</span>\n          </button>\n        </div>\n\n        {/* User Profile Header */}\n        <Card>\n          <CardHeader className=\"flex items-center gap-6 p-6\">\n            <div className=\"relative\">\n              <img\n                src={`https://api.dicebear.com/7.x/identicon/svg?seed=${user?.uid || 'user'}`}\n                alt=\"Avatar del usuario\"\n                className=\"bg-white/10 rounded-full w-20 h-20 flex-shrink-0 border-2 border-white/20\"\n                loading=\"lazy\"\n                decoding=\"async\"\n              />\n              <div className=\"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-2 border-white/20 flex items-center justify-center\">\n                <div className=\"w-2 h-2 bg-white rounded-full\"></div>\n              </div>\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <h2 className=\"font-bold text-2xl mb-2 text-white\">{user?.displayName || user?.email}</h2>\n              <div className=\"flex items-center gap-3 flex-wrap\">\n                <span className=\"text-white/60 text-sm font-mono\">UID: {user?.uid?.slice(0, 8)}...</span>\n                {userHasVisualDifficulty && (\n                  <span className=\"px-3 py-1 bg-blue-500/20 text-blue-300 text-xs rounded-full border border-blue-500/30\">\n                    ‚ôø Accesibilidad habilitada\n                  </span>\n                )}\n                <button\n                  onClick={toggleVoiceMode}\n                  className={`px-3 py-1 rounded-full text-xs font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-400 ${isVoiceModeEnabled ? 'bg-green-500/20 text-green-300 border border-green-500/30' : 'bg-gray-500/20 text-gray-300 border border-gray-500/30 hover:bg-green-500/20 hover:text-green-300 hover:border-green-500/30'}`}\n                  aria-pressed={isVoiceModeEnabled}\n                  type=\"button\"\n                >\n                  {isVoiceModeEnabled ? 'üé§ Modo de voz activo' : 'üé§ Activar modo de voz'}\n                </button>\n              </div>\n            </div>\n          </CardHeader>\n        </Card>\n\n        {/* Tab Navigation */}\n        <div className=\"flex flex-wrap gap-1 border-b border-white/10 bg-white/5 rounded-t-lg p-1\" role=\"tablist\" aria-label=\"Navegaci√≥n del perfil\">\n          {tabs.map((tab) => (\n            <button\n              key={tab.id}\n              onClick={() => setActiveTab(tab.id)}\n              className={`px-4 py-3 text-sm font-medium transition-all duration-200 rounded-lg flex items-center gap-2 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 focus:ring-offset-gray-900 ${\n                activeTab === tab.id\n                  ? 'bg-blue-500/20 text-blue-300 border border-blue-500/30 shadow-lg'\n                  : 'text-white/70 hover:text-white/90 hover:bg-white/10 border border-transparent'\n              }`}\n              role=\"tab\"\n              aria-selected={activeTab === tab.id}\n              aria-controls={`tabpanel-${tab.id}`}\n              id={`tab-${tab.id}`}\n            >\n              <span className=\"text-base\" aria-hidden=\"true\">{tab.icon}</span>\n              <span>{tab.label}</span>\n            </button>\n          ))}\n        </div>\n\n        {/* Tab Content */}\n        {activeTab === 'profile' && (\n          <Card role=\"tabpanel\" id=\"tabpanel-profile\" aria-labelledby=\"tab-profile\">\n            <CardHeader className=\"pb-4\">\n              <h3 className=\"text-xl font-semibold text-white flex items-center gap-2\">\n                <span className=\"text-2xl\" aria-hidden=\"true\">üìä</span>\n                Estad√≠sticas del Juego\n              </h3>\n            </CardHeader>\n            <CardBody>\n              {apiError && <Alert intent=\"error\" className=\"mb-4\">{apiError}</Alert>}\n              <div className=\"mb-6\">\n                <Link to=\"/face-register\">\n                  <Button variant=\"secondary\" size=\"md\" className=\"w-full sm:w-auto\">\n                    üì∏ Registrar Reconocimiento Facial\n                  </Button>\n                </Link>\n                <p className=\"text-white/60 text-sm mt-2\">\n                  Habilita el login facial para acceder m√°s r√°pido a tu cuenta\n                </p>\n              </div>\n              {stats ? (\n                <div className=\"gap-4 grid grid-cols-1 sm:grid-cols-3\">\n                  <div className=\"bg-gradient-to-br from-blue-500/10 to-blue-600/20 px-6 py-5 border border-blue-500/20 rounded-xl hover:border-blue-400/30 transition-all duration-200 group\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <div className=\"text-blue-300 text-sm font-medium\">Partidas jugadas</div>\n                      <span className=\"text-blue-400 text-lg\">üéÆ</span>\n                    </div>\n                    <div className=\"font-bold text-3xl text-white group-hover:text-blue-100 transition-colors\">{stats.gamesPlayed}</div>\n                  </div>\n                  <div className=\"bg-gradient-to-br from-green-500/10 to-green-600/20 px-6 py-5 border border-green-500/20 rounded-xl hover:border-green-400/30 transition-all duration-200 group\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <div className=\"text-green-300 text-sm font-medium\">Victorias</div>\n                      <span className=\"text-green-400 text-lg\">üèÜ</span>\n                    </div>\n                    <div className=\"font-bold text-3xl text-white group-hover:text-green-100 transition-colors\">{stats.wins}</div>\n                  </div>\n                  <div className=\"bg-gradient-to-br from-purple-500/10 to-purple-600/20 px-6 py-5 border border-purple-500/20 rounded-xl hover:border-purple-400/30 transition-all duration-200 group\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <div className=\"text-purple-300 text-sm font-medium\">Respuestas correctas</div>\n                      <span className=\"text-purple-400 text-lg\">‚úÖ</span>\n                    </div>\n                    <div className=\"font-bold text-3xl text-white group-hover:text-purple-100 transition-colors\">{stats.correctAnswers}</div>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"text-center py-8\">\n                  <div className=\"text-6xl mb-4\">üìà</div>\n                  <p className=\"text-white/70 text-lg mb-4\">No hay estad√≠sticas disponibles</p>\n                  <p className=\"text-white/50 text-sm\">¬°Juega algunas partidas para ver tus estad√≠sticas aqu√≠!</p>\n                  {apiRaw && (\n                    <details className=\"mt-6\">\n                      <summary className=\"underline cursor-pointer text-blue-400 hover:text-blue-300\">Ver respuesta de la API</summary>\n                      <pre className=\"bg-black/40 mt-3 p-4 rounded-xl overflow-auto text-xs text-white/80 border border-white/10\">{JSON.stringify(apiRaw, null, 2)}</pre>\n                    </details>\n                  )}\n                </div>\n              )}\n            </CardBody>\n          </Card>\n        )}\n\n        {activeTab === 'voice-settings' && <VoiceSettings />}\n        {activeTab === 'voice-history' && <VoiceHistory />}\n        {activeTab === 'tutorial' && (\n          <AudioTutorial \n            onComplete={() => setActiveTab('profile')}\n            onSkip={() => setActiveTab('profile')}\n          />\n        )}\n        {/* Diagnostic tab removed */}\n      </div>\n    </div>\n  );\n}\n\nexport default ProfilePage;"],"names":["getLangName","locale","VoiceSettings","isVoiceModeEnabled","getVoiceSettings","updateVoiceSettings","getVoiceStatus","isVoiceAvailable","speak","useVoice","settings","setSettings","useState","availableVoices","setAvailableVoices","status","setStatus","loading","setLoading","message","setMessage","languages","setLanguages","useEffect","loadSettings","voicesArray","voiceService","err","uniqueLanguages","voice","currentSettings","v","voicesForLanguage","handleVoiceChange","error","handleSettingChange","key","value","newSettings","currentVoice","voiceName","selectedVoice","testVoice","resetToDefaults","defaultSettings","jsx","Card","jsxs","CardHeader","CardBody","e","lang","index","Button","Alert","VoiceHistory","user","useAuth","voiceInteractionsService","history","setHistory","stats","setStats","setError","isVoiceAnswer","interaction","isAssemblyAIUsed","md","loadHistory","loadStats","historyData","statsData","deleteHistory","exportHistory","dataStr","dataBlob","url","link","formatDuration","ms","formatDate","timestamp","date","totalVoiceAnswers","assemblyAIVoiceAnswers","h","getActionLabel","action","LoadingOverlay","TUTORIAL_STEPS","AudioTutorial","onComplete","onSkip","stopSpeaking","currentStep","setCurrentStep","isPlaying","setIsPlaying","isPaused","setIsPaused","progress","setProgress","currentTutorialStep","isLastStep","isFirstStep","startTutorial","playCurrentStep","stepIndex","step","fullText","progressInterval","prev","newProgress","pauseTutorial","resumeTutorial","stopTutorial","nextStep","completeTutorial","next","previousStep","prevIdx","skipTutorial","_","ProfilePage","navigate","useNavigate","userHasVisualDifficulty","toggleVoiceMode","apiError","setApiError","apiRaw","setApiRaw","activeTab","setActiveTab","fetchProfile","apiBase","token","statsRes","tabs","tab","Link"],"mappings":"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"}