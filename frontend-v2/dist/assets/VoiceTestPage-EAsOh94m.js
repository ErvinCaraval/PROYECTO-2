import{r as l,j as e}from"./index-BOaVjrce.js";import{L as D}from"./Layout-DlMQXrDf.js";const I=()=>{const[n,m]=l.useState(!1),[u,p]=l.useState(!1),[g,x]=l.useState([]),[b,c]=l.useState("");l.useEffect(()=>{const d="speechSynthesis"in window;if(m(d),d){const o=()=>{const h=speechSynthesis.getVoices();x(h),console.log("Voces disponibles:",h)};o(),speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=o)}},[]);const j=d=>{if(!n){c("Tu navegador no soporta s√≠ntesis de voz");return}speechSynthesis.cancel();const o=new SpeechSynthesisUtterance(d);o.rate=1,o.volume=1,o.pitch=1,o.lang="es-ES",o.onstart=()=>{p(!0),c("Comenzando a hablar..."),console.log("Comenzando a hablar...")},o.onend=()=>{p(!1),c("Termin√≥ de hablar"),console.log("Termin√≥ de hablar")},o.onerror=h=>{p(!1),c("Error: "+h.error),console.error("Error en s√≠ntesis de voz:",h.error)},console.log("Iniciando s√≠ntesis de voz..."),speechSynthesis.speak(o)},v=()=>{c("Probando voz..."),j("Hola, este es un test b√°sico de voz")},i=()=>{c("Probando voz larga..."),j("Hola, este es un test m√°s largo de voz. Si puedes escuchar esto, el sistema de s√≠ntesis de voz est√° funcionando correctamente en tu navegador.")},S=()=>{speechSynthesis.cancel(),p(!1),c("Voz detenida")};return e.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg max-w-2xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"üîä Prueba Simple de Voz"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-100 rounded",children:[e.jsx("h3",{className:"font-bold mb-2",children:"Estado del Sistema:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Soporte Web Speech API:"})," ",n?"‚úÖ S√≠":"‚ùå No"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Estado actual:"})," ",u?"üîä Hablando":"üîá Silencioso"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Voces disponibles:"})," ",g.length]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Navegador:"})," ",navigator.userAgent.split(" ")[0]]})]})]}),b&&e.jsxs("div",{className:"p-3 bg-blue-100 border border-blue-300 rounded",children:[e.jsx("strong",{children:"Estado:"})," ",b]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:v,disabled:!n||u,className:"w-full px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"üîä Prueba B√°sica"}),e.jsx("button",{onClick:i,disabled:!n||u,className:"w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"üîä Prueba Larga"}),e.jsx("button",{onClick:S,disabled:!u,className:"w-full px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"‚èπÔ∏è Detener"})]}),g.length>0&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded",children:[e.jsx("h3",{className:"font-bold mb-2",children:"Voces Disponibles:"}),e.jsx("div",{className:"max-h-32 overflow-y-auto",children:g.map((d,o)=>e.jsxs("div",{className:"text-sm p-1 border-b",children:[e.jsx("strong",{children:d.name})," - ",d.lang]},o))})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 rounded",children:[e.jsx("h3",{className:"font-bold mb-2",children:"Instrucciones:"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:'‚Ä¢ Haz clic en "Prueba B√°sica" para un test corto'}),e.jsx("li",{children:'‚Ä¢ Haz clic en "Prueba Larga" para un test m√°s completo'}),e.jsx("li",{children:"‚Ä¢ Si no escuchas nada, verifica el volumen del sistema"}),e.jsx("li",{children:"‚Ä¢ Aseg√∫rate de que no hay bloqueos de audio en el navegador"}),e.jsx("li",{children:"‚Ä¢ Revisa la consola del navegador (F12) para ver errores"})]})]})]})]})},R=()=>{var o,h,y,f,N,w,V,z,P,T,k,E,A;const[n,m]=l.useState({}),[u,p]=l.useState(!1),[g,x]=l.useState([]);l.useEffect(()=>{b()},[]);const b=async()=>{p(!0);const s={};s.browserSupport={speechSynthesis:"speechSynthesis"in window,speechSynthesisUtterance:"SpeechSynthesisUtterance"in window,userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language};const t=speechSynthesis.getVoices();s.voices={count:t.length,list:t.map(a=>({name:a.name,lang:a.lang,gender:a.gender,default:a.default})),spanishVoices:t.filter(a=>a.lang.includes("es"))},s.permissions={hasAudioContext:"AudioContext"in window||"webkitAudioContext"in window,hasMediaDevices:"mediaDevices"in navigator,hasGetUserMedia:"getUserMedia"in navigator.mediaDevices},s.currentState={isSpeaking:speechSynthesis.speaking,isPaused:speechSynthesis.paused,pending:speechSynthesis.pending},s.systemConfig={volume:speechSynthesis.volume||"N/A",rate:speechSynthesis.rate||"N/A",pitch:speechSynthesis.pitch||"N/A"},m(s),p(!1)},c=async()=>{const s="Prueba b√°sica de voz";return i(`Iniciando prueba: "${s}"`),new Promise(t=>{const a=new SpeechSynthesisUtterance(s);a.onstart=()=>{i("‚úÖ Voz iniciada correctamente")},a.onend=()=>{i("‚úÖ Voz terminada correctamente"),t(!0)},a.onerror=r=>{i(`‚ùå Error: ${r.error}`),t(!1)},speechSynthesis.speak(a)})},j=async()=>{const s="Prueba con configuraci√≥n personalizada";return i(`Iniciando prueba con configuraci√≥n: "${s}"`),new Promise(t=>{const a=new SpeechSynthesisUtterance(s);a.rate=.8,a.volume=.8,a.pitch=1.2,a.lang="es-ES",a.onstart=()=>{i("‚úÖ Voz con configuraci√≥n iniciada")},a.onend=()=>{i("‚úÖ Voz con configuraci√≥n terminada"),t(!0)},a.onerror=r=>{i(`‚ùå Error con configuraci√≥n: ${r.error}`),t(!1)},speechSynthesis.speak(a)})},v=async()=>{const s=speechSynthesis.getVoices().filter(a=>a.lang.includes("es"));if(s.length===0)return i("‚ùå No hay voces en espa√±ol disponibles"),!1;const t="Prueba con voz en espa√±ol";return i(`Iniciando prueba con voz espa√±ola: "${t}"`),new Promise(a=>{const r=new SpeechSynthesisUtterance(t);r.voice=s[0],r.lang="es-ES",r.onstart=()=>{i(`‚úÖ Voz espa√±ola iniciada: ${s[0].name}`)},r.onend=()=>{i("‚úÖ Voz espa√±ola terminada"),a(!0)},r.onerror=C=>{i(`‚ùå Error con voz espa√±ola: ${C.error}`),a(!1)},speechSynthesis.speak(r)})},i=s=>{x(t=>[...t,{timestamp:new Date().toLocaleTimeString(),message:s}])},S=async()=>{x([]),i("üß™ Iniciando pruebas de voz..."),i("üìù Prueba 1: Voz b√°sica"),await c(),await new Promise(s=>setTimeout(s,1e3)),i("üìù Prueba 2: Voz con configuraci√≥n"),await j(),await new Promise(s=>setTimeout(s,1e3)),i("üìù Prueba 3: Voz espa√±ola"),await v(),i("‚úÖ Todas las pruebas completadas")},d=()=>{x([])};return e.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:"üîç Diagn√≥stico Completo de Voz"}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"üìä Informaci√≥n del Sistema"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Soporte del Navegador:"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsxs("li",{children:["speechSynthesis: ",(o=n.browserSupport)!=null&&o.speechSynthesis?"‚úÖ":"‚ùå"]}),e.jsxs("li",{children:["SpeechSynthesisUtterance: ",(h=n.browserSupport)!=null&&h.speechSynthesisUtterance?"‚úÖ":"‚ùå"]}),e.jsxs("li",{children:["Navegador: ",(f=(y=n.browserSupport)==null?void 0:y.userAgent)==null?void 0:f.split(" ")[0]]}),e.jsxs("li",{children:["Plataforma: ",(N=n.browserSupport)==null?void 0:N.platform]}),e.jsxs("li",{children:["Idioma: ",(w=n.browserSupport)==null?void 0:w.language]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Estado Actual:"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsxs("li",{children:["Hablando: ",(V=n.currentState)!=null&&V.isSpeaking?"üîä S√≠":"üîá No"]}),e.jsxs("li",{children:["Pausado: ",(z=n.currentState)!=null&&z.isPaused?"‚è∏Ô∏è S√≠":"‚ñ∂Ô∏è No"]}),e.jsxs("li",{children:["Pendiente: ",(P=n.currentState)!=null&&P.pending?"‚è≥ S√≠":"‚úÖ No"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"üé§ Voces Disponibles"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Total de voces:"})," ",((T=n.voices)==null?void 0:T.count)||0]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Voces en espa√±ol:"})," ",((E=(k=n.voices)==null?void 0:k.spanishVoices)==null?void 0:E.length)||0]})]}),((A=n.voices)==null?void 0:A.list)&&n.voices.list.length>0&&e.jsx("div",{className:"max-h-64 overflow-y-auto",children:n.voices.list.map((s,t)=>e.jsxs("div",{className:"p-2 border-b border-gray-200 text-sm",children:[e.jsx("strong",{children:s.name})," - ",s.lang," ",s.gender&&`(${s.gender})`,s.default&&e.jsx("span",{className:"text-blue-600 ml-2",children:"[Por defecto]"})]},t))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"üß™ Pruebas de Voz"}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("button",{onClick:S,disabled:u,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-400",children:u?"Ejecutando...":"üîä Ejecutar Todas las Pruebas"}),e.jsx("button",{onClick:d,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"üóëÔ∏è Limpiar Resultados"})]}),g.length>0&&e.jsx("div",{className:"bg-gray-100 p-4 rounded max-h-64 overflow-y-auto",children:g.map((s,t)=>e.jsxs("div",{className:"text-sm mb-1",children:[e.jsxs("span",{className:"text-gray-500",children:["[",s.timestamp,"]"]})," ",s.message]},t))})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"üîß Soluci√≥n de Problemas"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{children:e.jsx("strong",{children:"Si no escuchas nada:"})}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[e.jsx("li",{children:"Verifica que el volumen del sistema est√© activado"}),e.jsx("li",{children:"Aseg√∫rate de que no hay bloqueos de audio en el navegador"}),e.jsx("li",{children:"Prueba con un navegador diferente (Chrome funciona mejor)"}),e.jsx("li",{children:"Verifica que no hay extensiones bloqueando el audio"}),e.jsx("li",{children:"Revisa la consola del navegador (F12) para errores"})]}),e.jsx("p",{className:"mt-4",children:e.jsx("strong",{children:"Si hay errores:"})}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[e.jsx("li",{children:"Actualiza tu navegador a la √∫ltima versi√≥n"}),e.jsx("li",{children:"Reinicia el navegador"}),e.jsx("li",{children:"Verifica que JavaScript est√© habilitado"}),e.jsx("li",{children:"Prueba en modo inc√≥gnito"})]})]})]})]})};function q(){const[n,m]=l.useState("simple");return e.jsx(D,{children:e.jsx("div",{className:"min-h-screen p-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx("button",{onClick:()=>m("simple"),className:`px-4 py-2 rounded ${n==="simple"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"üîä Prueba Simple"}),e.jsx("button",{onClick:()=>m("diagnostic"),className:`px-4 py-2 rounded ${n==="diagnostic"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"üîç Diagn√≥stico Completo"})]}),n==="simple"&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(I,{})}),n==="diagnostic"&&e.jsx(R,{})]})})})}export{q as default};
//# sourceMappingURL=VoiceTestPage-EAsOh94m.js.map
