{"version":3,"file":"RegisterPage-ColKassu.js","sources":["../../src/pages/RegisterPage.jsx"],"sourcesContent":["import React, { useState, useCallback } from 'react'\nimport { motion } from 'framer-motion'\nimport backendAuthService from '../services/backendAuthService'\nimport { useNavigate, Link } from 'react-router-dom'\nimport { useVoice } from '../VoiceContext'\nimport Button from '../components/ui/Button'\nimport Input from '../components/ui/Input'\nimport Alert from '../components/ui/Alert'\nimport { Card, CardBody, CardHeader } from '../components/ui/Card'\n\nconst containerVariants = {\n  hidden: { opacity: 0, y: 20 },\n  visible: {\n    opacity: 1,\n    y: 0,\n    transition: { duration: 0.5, ease: 'easeOut' },\n  },\n}\n\nexport default function RegisterPage() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [visualDifficulty, setVisualDifficulty] = useState(false)\n  const [error, setError] = useState('')\n  const [loading, setLoading] = useState(false)\n  const navigate = useNavigate()\n  const { isVoiceModeEnabled, speak } = useVoice()\n\n  const announce = useCallback((text) => {\n    if (isVoiceModeEnabled) {\n      speak(text, { action: 'text_read', questionId: 'register', metadata: { origin: 'register' } })\n    }\n  }, [isVoiceModeEnabled, speak])\n\n  const handleRegister = async (e) => {\n    e.preventDefault()\n    setError('')\n    setLoading(true)\n    try {\n      const displayName = email.split('@')[0]\n      await backendAuthService.register(email, password, displayName, visualDifficulty)\n      announce('Cuenta creada exitosamente. Redirigiendo a registro facial.')\n      navigate('/face-register')\n    } catch (err) {\n      const errorMsg = err.message || 'Error desconocido'\n      setError(errorMsg)\n      announce(`Error: ${errorMsg}`)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"container min-h-screen px-4 py-10 grid place-items-center\">\n      <motion.div\n        className=\"w-full max-w-md\"\n        variants={containerVariants}\n        initial=\"hidden\"\n        animate=\"visible\"\n      >\n        <Card animated={false} className=\"overflow-visible\">\n          <CardHeader className=\"text-center space-y-4\">\n            <motion.div\n              className=\"inline-flex justify-center items-center bg-gradient-to-br from-bb-primary to-bb-accent rounded-xl w-16 h-16 font-bold text-2xl mx-auto shadow-glow\"\n              whileHover={{ scale: 1.05 }}\n              animate={{ y: [0, -5, 0] }}\n              transition={{ duration: 3, repeat: Infinity }}\n            >\n              ‚ö°\n            </motion.div>\n\n            <div className=\"space-y-2\">\n              <h1 className=\"text-3xl font-extrabold\">¬°√önete a BrainBlitz!</h1>\n              <p className=\"text-white/70\">Crea tu cuenta y comienza a jugar ahora</p>\n            </div>\n          </CardHeader>\n\n          <CardBody className=\"space-y-5\">\n            {error && (\n              <motion.div initial={{ opacity: 0, y: -10 }} animate={{ opacity: 1, y: 0 }}>\n                <Alert intent=\"error\" onClose={() => setError('')}>\n                  {error}\n                </Alert>\n              </motion.div>\n            )}\n\n            <form onSubmit={handleRegister} className=\"space-y-4\">\n              <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ delay: 0.1 }}>\n                <label htmlFor=\"email\" className=\"block mb-2 text-sm font-medium text-white/80\">\n                  üìß Correo Electr√≥nico\n                </label>\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  placeholder=\"t√∫@correo.com\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  required\n                  disabled={loading}\n                  onFocus={() => announce('Campo de correo electr√≥nico')}\n                />\n              </motion.div>\n\n              <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ delay: 0.2 }}>\n                <label htmlFor=\"password\" className=\"block mb-2 text-sm font-medium text-white/80\">\n                  üîë Contrase√±a\n                </label>\n                <Input\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  required\n                  disabled={loading}\n                  onFocus={() => announce('Campo de contrase√±a')}\n                />\n              </motion.div>\n\n              <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay: 0.3 }}\n                className=\"flex items-center gap-3 p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-400/20 hover:border-blue-400/40 transition-colors\"\n              >\n                <input\n                  id=\"visualDifficulty\"\n                  type=\"checkbox\"\n                  checked={visualDifficulty}\n                  onChange={(e) => setVisualDifficulty(e.target.checked)}\n                  disabled={loading}\n                  className=\"h-5 w-5 cursor-pointer accent-blue-500\"\n                />\n                <label htmlFor=\"visualDifficulty\" className=\"text-sm text-white/90 cursor-pointer font-medium\">\n                  üëÅÔ∏è Tengo dificultades visuales (activar√© modo voz)\n                </label>\n              </motion.div>\n\n              <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay: 0.4 }}\n              >\n                <Button\n                  type=\"submit\"\n                  size=\"lg\"\n                  disabled={loading}\n                  className=\"w-full\"\n                  onFocus={() => announce('Crear cuenta')}\n                >\n                  {loading ? (\n                    <>\n                      <motion.span\n                        animate={{ rotate: 360 }}\n                        transition={{ duration: 1, repeat: Infinity }}\n                      >\n                        ‚è≥\n                      </motion.span>\n                      Creando cuenta...\n                    </>\n                  ) : (\n                    '‚ú® Crear Cuenta'\n                  )}\n                </Button>\n              </motion.div>\n            </form>\n\n            <motion.div\n              className=\"space-y-3 pt-4 border-t border-white/10\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.5 }}\n            >\n              <div className=\"text-center text-sm\">\n                <p>\n                  ¬øYa tienes cuenta?{' '}\n                  <Link\n                    to=\"/login\"\n                    className=\"text-bb-primary hover:text-bb-primary-light font-semibold transition-colors\"\n                    onFocus={() => announce('Ir a iniciar sesi√≥n')}\n                  >\n                    Inicia sesi√≥n aqu√≠\n                  </Link>\n                </p>\n              </div>\n\n              <p className=\"text-white/60 text-xs text-center bg-blue-500/10 p-3 rounded-lg border border-blue-400/20\">\n                üí° Despu√©s de crear tu cuenta, registraremos tu reconocimiento facial para login m√°s r√°pido\n              </p>\n            </motion.div>\n          </CardBody>\n        </Card>\n      </motion.div>\n    </div>\n  )\n}"],"names":["containerVariants","RegisterPage","email","setEmail","useState","password","setPassword","visualDifficulty","setVisualDifficulty","error","setError","loading","setLoading","navigate","useNavigate","isVoiceModeEnabled","speak","useVoice","announce","useCallback","text","handleRegister","e","displayName","backendAuthService","err","errorMsg","jsx","motion","jsxs","Card","CardHeader","CardBody","Alert","Input","Button","Fragment","Link"],"mappings":"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"}