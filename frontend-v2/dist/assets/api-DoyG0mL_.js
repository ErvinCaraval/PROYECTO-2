let a=null,e=null,l=300*1e3;const f=async(r,t={},i=3)=>{let c;for(let s=0;s<i;s++)try{const o=await fetch(r,t);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(o){c=o,s<i-1&&await new Promise(n=>setTimeout(n,Math.pow(2,s)*1e3))}throw c},h=async()=>{if(a&&Date.now()-a.timestamp<l)return a.data;const r="http://localhost:5000/api";try{const t=await f(`${r}/ai/topics`);if(t.success&&Array.isArray(t.topics))return a={data:t.topics,timestamp:Date.now()},t.topics;throw new Error("Formato de respuesta inválido")}catch(t){if(console.error("Error fetching topics:",t),a?.data)return a.data;throw t}},p=async()=>{if(e&&Date.now()-e.timestamp<l)return e.data;const r="http://localhost:5000/api";try{const t=await f(`${r}/ai/difficulty-levels`);if(t.success)return e={data:t.levels,timestamp:Date.now()},t.levels;throw new Error("Formato de respuesta inválido")}catch(t){if(console.error("Error fetching difficulty levels:",t),e?.data)return e.data;throw t}};export{h as a,p as b,f};
//# sourceMappingURL=api-DoyG0mL_.js.map
