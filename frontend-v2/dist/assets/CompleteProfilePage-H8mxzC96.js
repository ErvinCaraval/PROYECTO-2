import{r,b as p,j as e,d as a,l as f,s as b,e as g,f as w}from"./index-BOaVjrce.js";import{B as N}from"./Button-D2tu_0bI.js";import{I as j}from"./Input-Cm1bFLR1.js";import{A as y}from"./Alert-BchDzBqE.js";function E(){const[i,n]=r.useState(""),[l,u]=r.useState(!1),[o,d]=r.useState(""),[s,c]=r.useState(!1),m=p(),h=async t=>{t.preventDefault(),d(""),c(!0);try{if(!a.currentUser)throw new Error("No autenticado");await f(a.currentUser,{displayName:i}),await b(g(w,"users",a.currentUser.uid),{email:a.currentUser.email,displayName:i,visualDifficulty:l,stats:{gamesPlayed:0,wins:0,correctAnswers:0}},{merge:!0}),m("/dashboard")}catch(x){d(x.message)}finally{c(!1)}};return e.jsx("div",{className:"container min-h-screen px-4 py-10 grid place-items-center",children:e.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl shadow-xl p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Completa tu perfil"}),e.jsx("p",{className:"text-white/70",children:"Elige tu nombre para mostrar"})]}),e.jsxs("form",{onSubmit:h,className:"grid gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm text-white/80",htmlFor:"displayName",children:"Nombre para mostrar"}),e.jsx(j,{id:"displayName",type:"text",placeholder:"Tu nombre",value:i,onChange:t=>n(t.target.value),required:!0,disabled:s})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/10",children:[e.jsx("input",{id:"visualDifficulty",type:"checkbox",checked:l,onChange:t=>u(t.target.checked),disabled:s,className:"h-4 w-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500 focus:ring-2"}),e.jsx("label",{htmlFor:"visualDifficulty",className:"text-sm text-white/80 cursor-pointer",children:"Tengo dificultades visuales"})]}),o&&e.jsx(y,{intent:"error",children:o}),e.jsx(N,{type:"submit",size:"lg",disabled:s,children:s?"Guardandoâ€¦":"Guardar"})]})]})})}export{E as default};
//# sourceMappingURL=CompleteProfilePage-H8mxzC96.js.map
