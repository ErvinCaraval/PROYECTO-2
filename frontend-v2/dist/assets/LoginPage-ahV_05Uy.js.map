{"version":3,"file":"LoginPage-ahV_05Uy.js","sources":["../../src/pages/LoginPage.jsx"],"sourcesContent":["import React, { useState, useCallback } from 'react'\nimport { motion } from 'framer-motion'\nimport backendAuthService from '../services/backendAuthService'\nimport { useNavigate, Link } from 'react-router-dom'\nimport { useVoice } from '../VoiceContext'\nimport Button from '../components/ui/Button'\nimport Input from '../components/ui/Input'\nimport Alert from '../components/ui/Alert'\nimport { Card, CardBody, CardHeader } from '../components/ui/Card'\n\nconst containerVariants = {\n  hidden: { opacity: 0, y: 20 },\n  visible: {\n    opacity: 1,\n    y: 0,\n    transition: { duration: 0.5, ease: 'easeOut' },\n  },\n}\n\nexport default function LoginPage() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [error, setError] = useState('')\n  const [loading, setLoading] = useState(false)\n  const navigate = useNavigate()\n  const { isVoiceModeEnabled, speak } = useVoice()\n\n  const announce = useCallback((text) => {\n    if (isVoiceModeEnabled) {\n      speak(text, { action: 'text_read', questionId: 'login', metadata: { origin: 'login' } })\n    }\n  }, [isVoiceModeEnabled, speak])\n\n  const handleLogin = async (e) => {\n    e.preventDefault()\n    setError('')\n    setLoading(true)\n    try {\n      await backendAuthService.login(email, password)\n      announce('Sesi贸n iniciada exitosamente. Redirigiendo al panel.')\n      navigate('/dashboard')\n    } catch (err) {\n      const errorMsg = err.message || 'Error desconocido'\n      setError(errorMsg)\n      announce(`Error: ${errorMsg}`)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"container min-h-screen px-4 py-10 grid place-items-center\">\n      <motion.div\n        className=\"w-full max-w-md\"\n        variants={containerVariants}\n        initial=\"hidden\"\n        animate=\"visible\"\n      >\n        <Card animated={false} className=\"overflow-visible\">\n          <CardHeader className=\"text-center space-y-4\">\n            <motion.div\n              className=\"inline-flex justify-center items-center bg-gradient-to-br from-bb-primary to-bb-accent rounded-xl w-16 h-16 font-bold text-2xl mx-auto shadow-glow\"\n              whileHover={{ scale: 1.05 }}\n              animate={{ y: [0, -5, 0] }}\n              transition={{ duration: 3, repeat: Infinity }}\n            >\n              \n            </motion.div>\n\n            <div className=\"space-y-2\">\n              <h1 className=\"text-3xl font-extrabold\">Bienvenido</h1>\n              <p className=\"text-white/70\">Inicia sesi贸n para continuar tu aventura de trivia</p>\n            </div>\n\n            {isVoiceModeEnabled && (\n              <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay: 0.3 }}\n              >\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => announce('Est谩s en la p谩gina de inicio de sesi贸n. Ingresa tu correo electr贸nico y contrase帽a. Si no tienes cuenta, puedes registrarte.')}\n                  className=\"w-full\"\n                >\n                   Explicar p谩gina\n                </Button>\n              </motion.div>\n            )}\n          </CardHeader>\n\n          <CardBody className=\"space-y-5\">\n            {error && (\n              <motion.div initial={{ opacity: 0, y: -10 }} animate={{ opacity: 1, y: 0 }}>\n                <Alert intent=\"error\" onClose={() => setError('')}>\n                  {error}\n                </Alert>\n              </motion.div>\n            )}\n\n            <form onSubmit={handleLogin} className=\"space-y-4\">\n              <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ delay: 0.1 }}>\n                <label htmlFor=\"email\" className=\"block mb-2 text-sm font-medium text-white/80\">\n                   Correo Electr贸nico\n                </label>\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  placeholder=\"t煤@correo.com\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  required\n                  disabled={loading}\n                  onFocus={() => announce('Campo de correo electr贸nico')}\n                  className=\"transition-all duration-250\"\n                />\n              </motion.div>\n\n              <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ delay: 0.2 }}>\n                <label htmlFor=\"password\" className=\"block mb-2 text-sm font-medium text-white/80\">\n                   Contrase帽a\n                </label>\n                <Input\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"⑩⑩⑩⑩⑩⑩⑩\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  required\n                  disabled={loading}\n                  onFocus={() => announce('Campo de contrase帽a')}\n                  className=\"transition-all duration-250\"\n                />\n              </motion.div>\n\n              <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay: 0.3 }}\n              >\n                <Button\n                  type=\"submit\"\n                  size=\"lg\"\n                  disabled={loading}\n                  className=\"w-full\"\n                  onFocus={() => announce('Bot贸n de iniciar sesi贸n')}\n                >\n                  {loading ? (\n                    <>\n                      <motion.span\n                        animate={{ rotate: 360 }}\n                        transition={{ duration: 1, repeat: Infinity }}\n                      >\n                        \n                      </motion.span>\n                      Iniciando...\n                    </>\n                  ) : (\n                    ' Iniciar Sesi贸n'\n                  )}\n                </Button>\n              </motion.div>\n            </form>\n\n            <motion.div\n              className=\"space-y-3 pt-4 border-t border-white/10\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.4 }}\n            >\n              <Link\n                to=\"/reset\"\n                className=\"block text-center text-sm text-bb-primary hover:text-bb-primary-light transition-colors\"\n                onFocus={() => announce('Recuperar contrase帽a')}\n              >\n                驴Olvidaste tu contrase帽a?\n              </Link>\n\n              <div className=\"text-center text-sm space-y-2\">\n                <p>\n                  驴No tienes cuenta?{' '}\n                  <Link\n                    to=\"/register\"\n                    className=\"text-bb-primary hover:text-bb-primary-light font-semibold transition-colors\"\n                    onFocus={() => announce('Crear nueva cuenta')}\n                  >\n                    Reg铆strate aqu铆\n                  </Link>\n                </p>\n                <p>\n                  <Link\n                    to=\"/face-login\"\n                    className=\"text-bb-accent hover:text-bb-accent-light font-semibold transition-colors\"\n                    onFocus={() => announce('Login con reconocimiento facial')}\n                  >\n                     O usa reconocimiento facial\n                  </Link>\n                </p>\n              </div>\n            </motion.div>\n          </CardBody>\n        </Card>\n      </motion.div>\n    </div>\n  )\n}"],"names":["containerVariants","LoginPage","email","setEmail","useState","password","setPassword","error","setError","loading","setLoading","navigate","useNavigate","isVoiceModeEnabled","speak","useVoice","announce","useCallback","text","handleLogin","e","backendAuthService","err","errorMsg","jsx","motion","jsxs","Card","CardHeader","Button","CardBody","Alert","Input","Fragment","Link"],"mappings":"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"}