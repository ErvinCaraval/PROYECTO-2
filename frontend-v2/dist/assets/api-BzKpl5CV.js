let e=null,a=null,d=300*1e3;const l=async(r,t={},i=3)=>{let n;for(let s=0;s<i;s++)try{const o=await fetch(r,t);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(o){n=o,s<i-1&&await new Promise(c=>setTimeout(c,Math.pow(2,s)*1e3))}throw n},f=async()=>{if(e&&Date.now()-e.timestamp<d)return e.data;const r=typeof window<"u"&&window.ENV?.VITE_API_URL||"https://backend-v1-latest.onrender.com/api";try{const t=await l(`${r}/ai/topics`);if(t.success&&Array.isArray(t.topics))return e={data:t.topics,timestamp:Date.now()},t.topics;throw new Error("Formato de respuesta inválido")}catch(t){if(console.error("Error fetching topics:",t),e?.data)return e.data;throw t}},w=async()=>{if(a&&Date.now()-a.timestamp<d)return a.data;const r=typeof window<"u"&&window.ENV?.VITE_API_URL||"https://backend-v1-latest.onrender.com/api";try{const t=await l(`${r}/ai/difficulty-levels`);if(t.success)return a={data:t.levels,timestamp:Date.now()},t.levels;throw new Error("Formato de respuesta inválido")}catch(t){if(console.error("Error fetching difficulty levels:",t),a?.data)return a.data;throw t}};export{f as a,w as b,l as f};
//# sourceMappingURL=api-BzKpl5CV.js.map
