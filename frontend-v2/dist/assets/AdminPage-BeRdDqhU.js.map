{"version":3,"file":"AdminPage-BeRdDqhU.js","sources":["../../src/services/adminService.js","../../src/pages/AdminPage.jsx"],"sourcesContent":["/**\n * Admin API Service\n * All admin operations go through the backend API, never direct database access\n */\n\nclass AdminService {\n  constructor() {\n    this.baseUrl = import.meta.env.VITE_API_URL || 'http://localhost:5000';\n  }\n\n  async getAuthHeaders() {\n    const token = localStorage.getItem('authToken');\n    return {\n      'Content-Type': 'application/json',\n      ...(token && { 'Authorization': `Bearer ${token}` })\n    };\n  }\n\n  // Questions Management\n  async getAllQuestions() {\n    try {\n      const headers = await this.getAuthHeaders();\n      const response = await fetch(`${this.baseUrl}/api/questions`, { headers });\n      if (!response.ok) throw new Error(`Failed to fetch questions: ${response.status}`);\n      return await response.json();\n    } catch (error) {\n      console.error('Error fetching questions:', error);\n      throw error;\n    }\n  }\n\n  async createQuestion(question) {\n    try {\n      const headers = await this.getAuthHeaders();\n      const response = await fetch(`${this.baseUrl}/api/questions`, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify(question)\n      });\n      if (!response.ok) throw new Error(`Failed to create question: ${response.status}`);\n      return await response.json();\n    } catch (error) {\n      console.error('Error creating question:', error);\n      throw error;\n    }\n  }\n\n  async updateQuestion(id, question) {\n    try {\n      const headers = await this.getAuthHeaders();\n      const response = await fetch(`${this.baseUrl}/api/questions/${id}`, {\n        method: 'PUT',\n        headers,\n        body: JSON.stringify(question)\n      });\n      if (!response.ok) throw new Error(`Failed to update question: ${response.status}`);\n      return await response.json();\n    } catch (error) {\n      console.error('Error updating question:', error);\n      throw error;\n    }\n  }\n\n  async deleteQuestion(id) {\n    try {\n      const headers = await this.getAuthHeaders();\n      const response = await fetch(`${this.baseUrl}/api/questions/${id}`, {\n        method: 'DELETE',\n        headers\n      });\n      if (!response.ok) throw new Error(`Failed to delete question: ${response.status}`);\n      return await response.json();\n    } catch (error) {\n      console.error('Error deleting question:', error);\n      throw error;\n    }\n  }\n\n  // Accessibility Stats\n  async getAccessibilityStats() {\n    try {\n      const headers = await this.getAuthHeaders();\n      const response = await fetch(`${this.baseUrl}/api/admin/accessibility-stats`, { headers });\n      if (!response.ok) throw new Error(`Failed to fetch accessibility stats: ${response.status}`);\n      return await response.json();\n    } catch (error) {\n      console.error('Error fetching accessibility stats:', error);\n      return {};\n    }\n  }\n\n  // Accessibility Settings\n  async getAccessibilitySettings() {\n    try {\n      const headers = await this.getAuthHeaders();\n      const response = await fetch(`${this.baseUrl}/api/admin/accessibility-settings`, { headers });\n      if (!response.ok) throw new Error(`Failed to fetch accessibility settings: ${response.status}`);\n      return await response.json();\n    } catch (error) {\n      console.error('Error fetching accessibility settings:', error);\n      return {};\n    }\n  }\n\n  async updateAccessibilitySettings(settings) {\n    try {\n      const headers = await this.getAuthHeaders();\n      const response = await fetch(`${this.baseUrl}/api/admin/accessibility-settings`, {\n        method: 'PUT',\n        headers,\n        body: JSON.stringify(settings)\n      });\n      if (!response.ok) throw new Error(`Failed to update accessibility settings: ${response.status}`);\n      return await response.json();\n    } catch (error) {\n      console.error('Error updating accessibility settings:', error);\n      throw error;\n    }\n  }\n\n  // Users Data\n  async getUsersWithVoiceMode() {\n    try {\n      const headers = await this.getAuthHeaders();\n      const response = await fetch(`${this.baseUrl}/api/admin/voice-mode-users`, { headers });\n      if (!response.ok) throw new Error(`Failed to fetch voice mode users: ${response.status}`);\n      return await response.json();\n    } catch (error) {\n      console.error('Error fetching voice mode users:', error);\n      return [];\n    }\n  }\n\n  // Accessibility Report\n  async getAccessibilityReport(startDate, endDate) {\n    try {\n      const headers = await this.getAuthHeaders();\n      const params = new URLSearchParams();\n      if (startDate) params.append('startDate', startDate);\n      if (endDate) params.append('endDate', endDate);\n      \n      const response = await fetch(`${this.baseUrl}/api/admin/accessibility-report?${params}`, { headers });\n      if (!response.ok) throw new Error(`Failed to fetch accessibility report: ${response.status}`);\n      return await response.json();\n    } catch (error) {\n      console.error('Error fetching accessibility report:', error);\n      return {};\n    }\n  }\n}\n\nexport default new AdminService();\n","import React, { useEffect, useState } from 'react';\nimport adminService from '../services/adminService';\nimport { Card, CardBody, CardHeader } from '../components/ui/Card';\nimport Button from '../components/ui/Button';\nimport Input from '../components/ui/Input';\nimport Alert from '../components/ui/Alert';\nimport LoadingOverlay from '../components/ui/LoadingOverlay';\n\nconst emptyForm = {\n  text: '',\n  options: ['', '', '', ''],\n  correctAnswerIndex: 0,\n  category: '',\n  explanation: ''\n};\n\nexport default function AdminPage() {\n  const [questions, setQuestions] = useState([]);\n  const [form, setForm] = useState(emptyForm);\n  const [editingId, setEditingId] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [accessibilityStats, setAccessibilityStats] = useState({});\n  const [accessibilitySettings, setAccessibilitySettings] = useState({});\n  const [loadingAccessibility, setLoadingAccessibility] = useState(false);\n  const [message, setMessage] = useState('');\n\n  const fetchQuestions = async () => {\n    setLoading(true);\n    try {\n      const data = await adminService.getAllQuestions();\n      setQuestions(Array.isArray(data) ? data : []);\n    } catch (error) {\n      console.error('Error fetching questions:', error);\n      setMessage('Error cargando preguntas');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => { \n    fetchQuestions(); \n    fetchAccessibilityData();\n  }, []);\n\n  const fetchAccessibilityData = async () => {\n    setLoadingAccessibility(true);\n    try {\n      const stats = await adminService.getAccessibilityStats();\n      const settings = await adminService.getAccessibilitySettings();\n      setAccessibilityStats(stats);\n      setAccessibilitySettings(settings);\n    } catch (error) {\n      console.error('Error fetching accessibility data:', error);\n      setMessage('Error cargando datos de accesibilidad');\n    } finally {\n      setLoadingAccessibility(false);\n    }\n  };\n\n  const updateAccessibilitySettings = async (newSettings) => {\n    setLoadingAccessibility(true);\n    try {\n      const updatedSettings = await adminService.updateAccessibilitySettings(newSettings);\n      setAccessibilitySettings(updatedSettings);\n      setMessage('Configuración de accesibilidad actualizada correctamente');\n    } catch (error) {\n      console.error('Error updating accessibility settings:', error);\n      setMessage('Error actualizando configuración de accesibilidad');\n    } finally {\n      setLoadingAccessibility(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setForm(f => ({ ...f, [name]: value }));\n  };\n  const handleOptionChange = (idx, value) => {\n    setForm(f => {\n      const options = [...f.options];\n      options[idx] = value;\n      return { ...f, options };\n    });\n  };\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      if (editingId) {\n        await adminService.updateQuestion(editingId, form);\n        setMessage('Pregunta actualizada correctamente');\n      } else {\n        await adminService.createQuestion(form);\n        setMessage('Pregunta creada correctamente');\n      }\n      setForm(emptyForm);\n      setEditingId(null);\n      fetchQuestions();\n    } catch (error) {\n      console.error('Error saving question:', error);\n      setMessage('Error guardando pregunta');\n    }\n  };\n  const handleEdit = (q) => {\n    setForm(q);\n    setEditingId(q.id);\n  };\n  const handleDelete = async (id) => {\n    try {\n      await adminService.deleteQuestion(id);\n      setMessage('Pregunta eliminada correctamente');\n      fetchQuestions();\n    } catch (error) {\n      console.error('Error deleting question:', error);\n      setMessage('Error eliminando pregunta');\n    }\n  };\n\n  return (\n    <div className=\"container min-h-screen px-4 py-8 space-y-6\">\n      {loadingAccessibility && <LoadingOverlay />}\n      \n      {/* Accessibility Admin Section */}\n      <Card>\n        <CardHeader>\n          <h2 className=\"text-2xl font-bold\">Panel de Accesibilidad</h2>\n        </CardHeader>\n        <CardBody className=\"space-y-6\">\n          {/* Accessibility Stats */}\n          <div>\n            <h3 className=\"text-lg font-semibold mb-3\">Estadísticas de Accesibilidad</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n              <div className=\"p-4 bg-blue-500/10 rounded-lg border border-blue-500/20\">\n                <div className=\"text-2xl font-bold text-blue-400\">\n                  {accessibilityStats.totalUsersWithVoiceMode || 0}\n                </div>\n                <div className=\"text-sm text-white/70\">Usuarios con modo de voz</div>\n              </div>\n              <div className=\"p-4 bg-green-500/10 rounded-lg border border-green-500/20\">\n                <div className=\"text-2xl font-bold text-green-400\">\n                  {accessibilityStats.totalVoiceInteractions || 0}\n                </div>\n                <div className=\"text-sm text-white/70\">Interacciones de voz</div>\n              </div>\n              <div className=\"p-4 bg-purple-500/10 rounded-lg border border-purple-500/20\">\n                <div className=\"text-2xl font-bold text-purple-400\">\n                  {accessibilityStats.voiceModeAdoptionRate || 0}%\n                </div>\n                <div className=\"text-sm text-white/70\">Tasa de adopción</div>\n              </div>\n              <div className=\"p-4 bg-orange-500/10 rounded-lg border border-orange-500/20\">\n                <div className=\"text-2xl font-bold text-orange-400\">\n                  {accessibilityStats.averageVoiceSessionDuration || 0}s\n                </div>\n                <div className=\"text-sm text-white/70\">Duración promedio</div>\n              </div>\n            </div>\n          </div>\n\n          {/* Accessibility Settings */}\n          <div>\n            <h3 className=\"text-lg font-semibold mb-3\">Configuración Global de Accesibilidad</h3>\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center gap-3\">\n                <input\n                  type=\"checkbox\"\n                  id=\"voiceModeEnabled\"\n                  checked={accessibilitySettings.voiceModeEnabled || false}\n                  onChange={(e) => updateAccessibilitySettings({ \n                    voiceModeEnabled: e.target.checked \n                  })}\n                  className=\"h-4 w-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500 focus:ring-2\"\n                />\n                <label htmlFor=\"voiceModeEnabled\" className=\"text-sm text-white/80\">\n                  Habilitar modo de voz globalmente\n                </label>\n              </div>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block mb-2 text-sm font-medium text-white/80\">\n                    Velocidad de voz por defecto\n                  </label>\n                  <input\n                    type=\"range\"\n                    min=\"0.5\"\n                    max=\"2\"\n                    step=\"0.1\"\n                    value={accessibilitySettings.defaultVoiceSettings?.rate || 1.0}\n                    onChange={(e) => updateAccessibilitySettings({\n                      defaultVoiceSettings: {\n                        ...accessibilitySettings.defaultVoiceSettings,\n                        rate: parseFloat(e.target.value)\n                      }\n                    })}\n                    className=\"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer slider\"\n                  />\n                  <div className=\"text-xs text-white/60 mt-1\">\n                    {accessibilitySettings.defaultVoiceSettings?.rate || 1.0}x\n                  </div>\n                </div>\n                \n                <div>\n                  <label className=\"block mb-2 text-sm font-medium text-white/80\">\n                    Volumen por defecto\n                  </label>\n                  <input\n                    type=\"range\"\n                    min=\"0\"\n                    max=\"1\"\n                    step=\"0.1\"\n                    value={accessibilitySettings.defaultVoiceSettings?.volume || 1.0}\n                    onChange={(e) => updateAccessibilitySettings({\n                      defaultVoiceSettings: {\n                        ...accessibilitySettings.defaultVoiceSettings,\n                        volume: parseFloat(e.target.value)\n                      }\n                    })}\n                    className=\"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer slider\"\n                  />\n                  <div className=\"text-xs text-white/60 mt-1\">\n                    {Math.round((accessibilitySettings.defaultVoiceSettings?.volume || 1.0) * 100)}%\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Feature Toggles */}\n          <div>\n            <h3 className=\"text-lg font-semibold mb-3\">Funcionalidades de Accesibilidad</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              {accessibilitySettings.features && Object.entries(accessibilitySettings.features).map(([feature, enabled]) => (\n                <div key={feature} className=\"flex items-center gap-3\">\n                  <input\n                    type=\"checkbox\"\n                    id={feature}\n                    checked={enabled}\n                    onChange={(e) => updateAccessibilitySettings({\n                      features: {\n                        ...accessibilitySettings.features,\n                        [feature]: e.target.checked\n                      }\n                    })}\n                    className=\"h-4 w-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500 focus:ring-2\"\n                  />\n                  <label htmlFor={feature} className=\"text-sm text-white/80 capitalize\">\n                    {feature.replace(/([A-Z])/g, ' $1').toLowerCase()}\n                  </label>\n                </div>\n              ))}\n            </div>\n          </div>\n        </CardBody>\n      </Card>\n\n      <Card>\n        <CardHeader className=\"pb-2\"><h2 className=\"text-2xl font-bold\">Admin Panel</h2></CardHeader>\n        <CardBody>\n          <form onSubmit={handleSubmit} className=\"grid gap-3\">\n            <Input name=\"text\" value={form.text} onChange={handleChange} placeholder=\"Question text\" required />\n            <div className=\"grid gap-3 sm:grid-cols-3\">\n              <Input name=\"category\" value={form.category} onChange={handleChange} placeholder=\"Category\" required />\n              <Input name=\"explanation\" value={form.explanation} onChange={handleChange} placeholder=\"Explanation\" required />\n              <div className=\"grid gap-2\">\n                <span className=\"text-sm text-white/70\">Correcta</span>\n                <div className=\"flex flex-wrap gap-3\">\n                  {form.options.map((_, idx) => (\n                    <label key={idx} className=\"inline-flex items-center gap-2 text-sm\">\n                      <input type=\"radio\" name=\"correctAnswerIndex\" checked={form.correctAnswerIndex === idx} onChange={() => setForm(f => ({ ...f, correctAnswerIndex: idx }))} className=\"h-4 w-4\" />\n                      <span>{idx + 1}</span>\n                    </label>\n                  ))}\n                </div>\n              </div>\n            </div>\n            <div className=\"grid gap-3 sm:grid-cols-2\">\n              {form.options.map((opt, idx) => (\n                <Input key={idx} value={opt} onChange={e => handleOptionChange(idx, e.target.value)} placeholder={`Option ${idx + 1}`} required />\n              ))}\n            </div>\n            <div className=\"flex gap-3 justify-end\">\n              {editingId && <Button type=\"button\" variant=\"secondary\" onClick={() => { setForm(emptyForm); setEditingId(null); }}>Cancel</Button>}\n              <Button type=\"submit\">{editingId ? 'Update' : 'Add'} Question</Button>\n            </div>\n          </form>\n        </CardBody>\n      </Card>\n\n      <Card>\n        <CardHeader className=\"pb-2\"><h3 className=\"text-xl font-semibold\">Questions</h3></CardHeader>\n        <CardBody>\n          {loading ? (\n            <div className=\"flex items-center gap-3 text-white/80\"><div className=\"loading-spinner\" /> Loading…</div>\n          ) : (\n            <div className=\"overflow-auto\">\n              <table className=\"min-w-full text-sm\">\n                <thead className=\"text-left\">\n                  <tr className=\"border-b border-white/10\">\n                    <th className=\"py-2 pr-3\">Text</th>\n                    <th className=\"py-2 pr-3\">Category</th>\n                    <th className=\"py-2 pr-3\">Options</th>\n                    <th className=\"py-2 pr-3\">Correct</th>\n                    <th className=\"py-2 pr-3\">Explanation</th>\n                    <th className=\"py-2\">Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {questions.map(q => (\n                    <tr key={q.id} className=\"border-b border-white/5 hover:bg-white/5\">\n                      <td className=\"py-2 pr-3 align-top\">{q.text}</td>\n                      <td className=\"py-2 pr-3 align-top\">{q.category}</td>\n                      <td className=\"py-2 pr-3 align-top\">{q.options.join(', ')}</td>\n                      <td className=\"py-2 pr-3 align-top\">{q.options[q.correctAnswerIndex]}</td>\n                      <td className=\"py-2 pr-3 align-top\">{q.explanation}</td>\n                      <td className=\"py-2 flex gap-2\">\n                        <Button variant=\"secondary\" onClick={() => handleEdit(q)}>Edit</Button>\n                        <Button variant=\"outline\" onClick={() => handleDelete(q.id)}>Delete</Button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </CardBody>\n      </Card>\n      \n      {message && (\n        <Alert intent={message.includes('Error') ? 'error' : 'success'}>\n          {message}\n        </Alert>\n      )}\n    </div>\n  );\n}"],"names":["AdminService","token","headers","response","error","question","id","settings","startDate","endDate","params","adminService","emptyForm","AdminPage","questions","setQuestions","useState","form","setForm","editingId","setEditingId","loading","setLoading","accessibilityStats","setAccessibilityStats","accessibilitySettings","setAccessibilitySettings","loadingAccessibility","setLoadingAccessibility","message","setMessage","fetchQuestions","data","useEffect","fetchAccessibilityData","stats","updateAccessibilitySettings","newSettings","updatedSettings","handleChange","e","name","value","f","handleOptionChange","idx","options","handleSubmit","handleEdit","q","handleDelete","jsxs","LoadingOverlay","Card","jsx","CardHeader","CardBody","feature","enabled","Input","_","opt","Button","Alert"],"mappings":"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"}