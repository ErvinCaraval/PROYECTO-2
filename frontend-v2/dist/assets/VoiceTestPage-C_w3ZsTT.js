import{r,j as e}from"./index-BaYh_0Lp.js";import{L as S}from"./Layout-Dc3a0wjj.js";const y=()=>{const[i,u]=r.useState(!1),[d,h]=r.useState(!1),[p,m]=r.useState([]),[g,l]=r.useState("");r.useEffect(()=>{const c="speechSynthesis"in window;if(u(c),c){const s=()=>{const n=speechSynthesis.getVoices();m(n),console.log("Voces disponibles:",n)};s(),speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=s)}},[]);const x=c=>{if(!i){l("Tu navegador no soporta s√≠ntesis de voz");return}speechSynthesis.cancel();const s=new SpeechSynthesisUtterance(c);s.rate=1,s.volume=1,s.pitch=1,s.lang="es-ES",s.onstart=()=>{h(!0),l("Comenzando a hablar..."),console.log("Comenzando a hablar...")},s.onend=()=>{h(!1),l("Termin√≥ de hablar"),console.log("Termin√≥ de hablar")},s.onerror=n=>{h(!1),l("Error: "+n.error),console.error("Error en s√≠ntesis de voz:",n.error)},console.log("Iniciando s√≠ntesis de voz..."),speechSynthesis.speak(s)},b=()=>{l("Probando voz..."),x("Hola, este es un test b√°sico de voz")},t=()=>{l("Probando voz larga..."),x("Hola, este es un test m√°s largo de voz. Si puedes escuchar esto, el sistema de s√≠ntesis de voz est√° funcionando correctamente en tu navegador.")},j=()=>{speechSynthesis.cancel(),h(!1),l("Voz detenida")};return e.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg max-w-2xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"üîä Prueba Simple de Voz"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-100 rounded",children:[e.jsx("h3",{className:"font-bold mb-2",children:"Estado del Sistema:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Soporte Web Speech API:"})," ",i?"‚úÖ S√≠":"‚ùå No"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Estado actual:"})," ",d?"üîä Hablando":"üîá Silencioso"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Voces disponibles:"})," ",p.length]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Navegador:"})," ",navigator.userAgent.split(" ")[0]]})]})]}),g&&e.jsxs("div",{className:"p-3 bg-blue-100 border border-blue-300 rounded",children:[e.jsx("strong",{children:"Estado:"})," ",g]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:b,disabled:!i||d,className:"w-full px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"üîä Prueba B√°sica"}),e.jsx("button",{onClick:t,disabled:!i||d,className:"w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"üîä Prueba Larga"}),e.jsx("button",{onClick:j,disabled:!d,className:"w-full px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"‚èπÔ∏è Detener"})]}),p.length>0&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded",children:[e.jsx("h3",{className:"font-bold mb-2",children:"Voces Disponibles:"}),e.jsx("div",{className:"max-h-32 overflow-y-auto",children:p.map((c,s)=>e.jsxs("div",{className:"text-sm p-1 border-b",children:[e.jsx("strong",{children:c.name})," - ",c.lang]},s))})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 rounded",children:[e.jsx("h3",{className:"font-bold mb-2",children:"Instrucciones:"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:'‚Ä¢ Haz clic en "Prueba B√°sica" para un test corto'}),e.jsx("li",{children:'‚Ä¢ Haz clic en "Prueba Larga" para un test m√°s completo'}),e.jsx("li",{children:"‚Ä¢ Si no escuchas nada, verifica el volumen del sistema"}),e.jsx("li",{children:"‚Ä¢ Aseg√∫rate de que no hay bloqueos de audio en el navegador"}),e.jsx("li",{children:"‚Ä¢ Revisa la consola del navegador (F12) para ver errores"})]})]})]})]})},f=()=>{const[i,u]=r.useState({}),[d,h]=r.useState(!1),[p,m]=r.useState([]);r.useEffect(()=>{g()},[]);const g=async()=>{h(!0);const s={};s.browserSupport={speechSynthesis:"speechSynthesis"in window,speechSynthesisUtterance:"SpeechSynthesisUtterance"in window,userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language};const n=speechSynthesis.getVoices();s.voices={count:n.length,list:n.map(a=>({name:a.name,lang:a.lang,gender:a.gender,default:a.default})),spanishVoices:n.filter(a=>a.lang.includes("es"))},s.permissions={hasAudioContext:"AudioContext"in window||"webkitAudioContext"in window,hasMediaDevices:"mediaDevices"in navigator,hasGetUserMedia:"getUserMedia"in navigator.mediaDevices},s.currentState={isSpeaking:speechSynthesis.speaking,isPaused:speechSynthesis.paused,pending:speechSynthesis.pending},s.systemConfig={volume:speechSynthesis.volume||"N/A",rate:speechSynthesis.rate||"N/A",pitch:speechSynthesis.pitch||"N/A"},u(s),h(!1)},l=async()=>{const s="Prueba b√°sica de voz";return t(`Iniciando prueba: "${s}"`),new Promise(n=>{const a=new SpeechSynthesisUtterance(s);a.onstart=()=>{t("‚úÖ Voz iniciada correctamente")},a.onend=()=>{t("‚úÖ Voz terminada correctamente"),n(!0)},a.onerror=o=>{t(`‚ùå Error: ${o.error}`),n(!1)},speechSynthesis.speak(a)})},x=async()=>{const s="Prueba con configuraci√≥n personalizada";return t(`Iniciando prueba con configuraci√≥n: "${s}"`),new Promise(n=>{const a=new SpeechSynthesisUtterance(s);a.rate=.8,a.volume=.8,a.pitch=1.2,a.lang="es-ES",a.onstart=()=>{t("‚úÖ Voz con configuraci√≥n iniciada")},a.onend=()=>{t("‚úÖ Voz con configuraci√≥n terminada"),n(!0)},a.onerror=o=>{t(`‚ùå Error con configuraci√≥n: ${o.error}`),n(!1)},speechSynthesis.speak(a)})},b=async()=>{const s=speechSynthesis.getVoices().filter(a=>a.lang.includes("es"));if(s.length===0)return t("‚ùå No hay voces en espa√±ol disponibles"),!1;const n="Prueba con voz en espa√±ol";return t(`Iniciando prueba con voz espa√±ola: "${n}"`),new Promise(a=>{const o=new SpeechSynthesisUtterance(n);o.voice=s[0],o.lang="es-ES",o.onstart=()=>{t(`‚úÖ Voz espa√±ola iniciada: ${s[0].name}`)},o.onend=()=>{t("‚úÖ Voz espa√±ola terminada"),a(!0)},o.onerror=v=>{t(`‚ùå Error con voz espa√±ola: ${v.error}`),a(!1)},speechSynthesis.speak(o)})},t=s=>{m(n=>[...n,{timestamp:new Date().toLocaleTimeString(),message:s}])},j=async()=>{m([]),t("üß™ Iniciando pruebas de voz..."),t("üìù Prueba 1: Voz b√°sica"),await l(),await new Promise(s=>setTimeout(s,1e3)),t("üìù Prueba 2: Voz con configuraci√≥n"),await x(),await new Promise(s=>setTimeout(s,1e3)),t("üìù Prueba 3: Voz espa√±ola"),await b(),t("‚úÖ Todas las pruebas completadas")},c=()=>{m([])};return e.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:"üîç Diagn√≥stico Completo de Voz"}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"üìä Informaci√≥n del Sistema"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Soporte del Navegador:"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsxs("li",{children:["speechSynthesis: ",i.browserSupport?.speechSynthesis?"‚úÖ":"‚ùå"]}),e.jsxs("li",{children:["SpeechSynthesisUtterance: ",i.browserSupport?.speechSynthesisUtterance?"‚úÖ":"‚ùå"]}),e.jsxs("li",{children:["Navegador: ",i.browserSupport?.userAgent?.split(" ")[0]]}),e.jsxs("li",{children:["Plataforma: ",i.browserSupport?.platform]}),e.jsxs("li",{children:["Idioma: ",i.browserSupport?.language]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Estado Actual:"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsxs("li",{children:["Hablando: ",i.currentState?.isSpeaking?"üîä S√≠":"üîá No"]}),e.jsxs("li",{children:["Pausado: ",i.currentState?.isPaused?"‚è∏Ô∏è S√≠":"‚ñ∂Ô∏è No"]}),e.jsxs("li",{children:["Pendiente: ",i.currentState?.pending?"‚è≥ S√≠":"‚úÖ No"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"üé§ Voces Disponibles"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Total de voces:"})," ",i.voices?.count||0]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Voces en espa√±ol:"})," ",i.voices?.spanishVoices?.length||0]})]}),i.voices?.list&&i.voices.list.length>0&&e.jsx("div",{className:"max-h-64 overflow-y-auto",children:i.voices.list.map((s,n)=>e.jsxs("div",{className:"p-2 border-b border-gray-200 text-sm",children:[e.jsx("strong",{children:s.name})," - ",s.lang," ",s.gender&&`(${s.gender})`,s.default&&e.jsx("span",{className:"text-blue-600 ml-2",children:"[Por defecto]"})]},n))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"üß™ Pruebas de Voz"}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("button",{onClick:j,disabled:d,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-400",children:d?"Ejecutando...":"üîä Ejecutar Todas las Pruebas"}),e.jsx("button",{onClick:c,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"üóëÔ∏è Limpiar Resultados"})]}),p.length>0&&e.jsx("div",{className:"bg-gray-100 p-4 rounded max-h-64 overflow-y-auto",children:p.map((s,n)=>e.jsxs("div",{className:"text-sm mb-1",children:[e.jsxs("span",{className:"text-gray-500",children:["[",s.timestamp,"]"]})," ",s.message]},n))})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"üîß Soluci√≥n de Problemas"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{children:e.jsx("strong",{children:"Si no escuchas nada:"})}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[e.jsx("li",{children:"Verifica que el volumen del sistema est√© activado"}),e.jsx("li",{children:"Aseg√∫rate de que no hay bloqueos de audio en el navegador"}),e.jsx("li",{children:"Prueba con un navegador diferente (Chrome funciona mejor)"}),e.jsx("li",{children:"Verifica que no hay extensiones bloqueando el audio"}),e.jsx("li",{children:"Revisa la consola del navegador (F12) para errores"})]}),e.jsx("p",{className:"mt-4",children:e.jsx("strong",{children:"Si hay errores:"})}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[e.jsx("li",{children:"Actualiza tu navegador a la √∫ltima versi√≥n"}),e.jsx("li",{children:"Reinicia el navegador"}),e.jsx("li",{children:"Verifica que JavaScript est√© habilitado"}),e.jsx("li",{children:"Prueba en modo inc√≥gnito"})]})]})]})]})};function V(){const[i,u]=r.useState("simple");return e.jsx(S,{children:e.jsx("div",{className:"min-h-screen p-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx("button",{onClick:()=>u("simple"),className:`px-4 py-2 rounded ${i==="simple"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"üîä Prueba Simple"}),e.jsx("button",{onClick:()=>u("diagnostic"),className:`px-4 py-2 rounded ${i==="diagnostic"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"üîç Diagn√≥stico Completo"})]}),i==="simple"&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(y,{})}),i==="diagnostic"&&e.jsx(f,{})]})})})}export{V as default};
//# sourceMappingURL=VoiceTestPage-C_w3ZsTT.js.map
