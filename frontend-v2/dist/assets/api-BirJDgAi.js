let a=null,r=null,l=5*60*1e3;const f=async(e,t={},i=3)=>{let c;for(let s=0;s<i;s++)try{const o=await fetch(e,t);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(o){c=o,s<i-1&&await new Promise(n=>setTimeout(n,Math.pow(2,s)*1e3))}throw c},h=async()=>{if(a&&Date.now()-a.timestamp<l)return a.data;const e="http://localhost:5000";try{const t=await f(`${e}/api/ai/topics`);if(t.success&&Array.isArray(t.topics))return a={data:t.topics,timestamp:Date.now()},t.topics;throw new Error("Formato de respuesta inválido")}catch(t){if(console.error("Error fetching topics:",t),a!=null&&a.data)return a.data;throw t}},p=async()=>{if(r&&Date.now()-r.timestamp<l)return r.data;const e="http://localhost:5000";try{const t=await f(`${e}/api/ai/difficulty-levels`);if(t.success)return r={data:t.levels,timestamp:Date.now()},t.levels;throw new Error("Formato de respuesta inválido")}catch(t){if(console.error("Error fetching difficulty levels:",t),r!=null&&r.data)return r.data;throw t}};export{p as a,f as b,h as f};
//# sourceMappingURL=api-BirJDgAi.js.map
