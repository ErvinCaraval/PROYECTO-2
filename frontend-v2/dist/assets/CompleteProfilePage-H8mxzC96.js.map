{"version":3,"file":"CompleteProfilePage-H8mxzC96.js","sources":["../../src/pages/CompleteProfilePage.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { auth, db } from '../services/firebase';\nimport { updateProfile } from 'firebase/auth';\nimport { doc, setDoc } from 'firebase/firestore';\nimport { useNavigate } from 'react-router-dom';\nimport Button from '../components/ui/Button';\nimport Input from '../components/ui/Input';\nimport Alert from '../components/ui/Alert';\n\nexport default function CompleteProfilePage() {\n  const [displayName, setDisplayName] = useState('');\n  const [visualDifficulty, setVisualDifficulty] = useState(false);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const handleSave = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n    try {\n      if (!auth.currentUser) throw new Error('No autenticado');\n      await updateProfile(auth.currentUser, { displayName });\n      await setDoc(doc(db, 'users', auth.currentUser.uid), {\n        email: auth.currentUser.email,\n        displayName,\n        visualDifficulty,\n        stats: { gamesPlayed: 0, wins: 0, correctAnswers: 0 }\n      }, { merge: true });\n      navigate('/dashboard');\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container min-h-screen px-4 py-10 grid place-items-center\">\n      <div className=\"w-full max-w-md rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl shadow-xl p-6\">\n        <div className=\"text-center mb-6\">\n          <h1 className=\"text-2xl font-bold\">Completa tu perfil</h1>\n          <p className=\"text-white/70\">Elige tu nombre para mostrar</p>\n        </div>\n        <form onSubmit={handleSave} className=\"grid gap-4\">\n          <div>\n            <label className=\"block mb-1 text-sm text-white/80\" htmlFor=\"displayName\">Nombre para mostrar</label>\n            <Input id=\"displayName\" type=\"text\" placeholder=\"Tu nombre\" value={displayName} onChange={e => setDisplayName(e.target.value)} required disabled={loading} />\n          </div>\n\n          <div className=\"flex items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/10\">\n            <input\n              id=\"visualDifficulty\"\n              type=\"checkbox\"\n              checked={visualDifficulty}\n              onChange={e => setVisualDifficulty(e.target.checked)}\n              disabled={loading}\n              className=\"h-4 w-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500 focus:ring-2\"\n            />\n            <label htmlFor=\"visualDifficulty\" className=\"text-sm text-white/80 cursor-pointer\">\n              Tengo dificultades visuales\n            </label>\n          </div>\n\n          {error && <Alert intent=\"error\">{error}</Alert>}\n          <Button type=\"submit\" size=\"lg\" disabled={loading}>{loading ? 'Guardandoâ€¦' : 'Guardar'}</Button>\n        </form>\n      </div>\n    </div>\n  );\n}"],"names":["CompleteProfilePage","displayName","setDisplayName","useState","visualDifficulty","setVisualDifficulty","error","setError","loading","setLoading","navigate","useNavigate","handleSave","e","auth","updateProfile","setDoc","doc","db","err","jsxs","jsx","Input","Alert","Button"],"mappings":"6MASA,SAAwBA,GAAsB,CAC5C,KAAM,CAACC,EAAaC,CAAc,EAAIC,EAAAA,SAAS,EAAE,EAC3C,CAACC,EAAkBC,CAAmB,EAAIF,EAAAA,SAAS,EAAK,EACxD,CAACG,EAAOC,CAAQ,EAAIJ,EAAAA,SAAS,EAAE,EAC/B,CAACK,EAASC,CAAU,EAAIN,EAAAA,SAAS,EAAK,EACtCO,EAAWC,EAAA,EAEXC,EAAa,MAAOC,GAAM,CAC9BA,EAAE,eAAA,EACFN,EAAS,EAAE,EACXE,EAAW,EAAI,EACf,GAAI,CACF,GAAI,CAACK,EAAK,YAAa,MAAM,IAAI,MAAM,gBAAgB,EACvD,MAAMC,EAAcD,EAAK,YAAa,CAAE,YAAAb,EAAa,EACrD,MAAMe,EAAOC,EAAIC,EAAI,QAASJ,EAAK,YAAY,GAAG,EAAG,CACnD,MAAOA,EAAK,YAAY,MACxB,YAAAb,EACA,iBAAAG,EACA,MAAO,CAAE,YAAa,EAAG,KAAM,EAAG,eAAgB,CAAA,CAAE,EACnD,CAAE,MAAO,GAAM,EAClBM,EAAS,YAAY,CACvB,OAASS,EAAK,CACZZ,EAASY,EAAI,OAAO,CACtB,QAAA,CACEV,EAAW,EAAK,CAClB,CACF,EAEA,aACG,MAAA,CAAI,UAAU,4DACb,SAAAW,EAAAA,KAAC,MAAA,CAAI,UAAU,+FACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,mBACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,qBAAqB,SAAA,qBAAkB,EACrDA,EAAAA,IAAC,IAAA,CAAE,UAAU,gBAAgB,SAAA,8BAAA,CAA4B,CAAA,EAC3D,EACAD,EAAAA,KAAC,OAAA,CAAK,SAAUR,EAAY,UAAU,aACpC,SAAA,CAAAQ,OAAC,MAAA,CACC,SAAA,CAAAC,MAAC,QAAA,CAAM,UAAU,mCAAmC,QAAQ,cAAc,SAAA,sBAAmB,EAC7FA,MAACC,GAAM,GAAG,cAAc,KAAK,OAAO,YAAY,YAAY,MAAOrB,EAAa,SAAUY,GAAKX,EAAeW,EAAE,OAAO,KAAK,EAAG,SAAQ,GAAC,SAAUL,CAAA,CAAS,CAAA,EAC7J,EAEAY,EAAAA,KAAC,MAAA,CAAI,UAAU,2EACb,SAAA,CAAAC,EAAAA,IAAC,QAAA,CACC,GAAG,mBACH,KAAK,WACL,QAASjB,EACT,SAAUS,GAAKR,EAAoBQ,EAAE,OAAO,OAAO,EACnD,SAAUL,EACV,UAAU,4FAAA,CAAA,QAEX,QAAA,CAAM,QAAQ,mBAAmB,UAAU,uCAAuC,SAAA,6BAAA,CAEnF,CAAA,EACF,EAECF,GAASe,EAAAA,IAACE,EAAA,CAAM,OAAO,QAAS,SAAAjB,EAAM,EACvCe,EAAAA,IAACG,EAAA,CAAO,KAAK,SAAS,KAAK,KAAK,SAAUhB,EAAU,SAAAA,EAAU,aAAe,SAAA,CAAU,CAAA,CAAA,CACzF,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}