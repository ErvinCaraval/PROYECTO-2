{"version":3,"file":"LoginPage-Blk-vcg9.js","sources":["../../src/pages/LoginPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport backendAuthService from '../services/backendAuthService';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useVoice } from '../VoiceContext';\nimport Button from '../components/ui/Button';\nimport Input from '../components/ui/Input';\nimport Alert from '../components/ui/Alert';\n\nexport default function LoginPage() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const { isVoiceModeEnabled, speak } = useVoice();\n\n  // Voice announce helper\n  const announce = (text) => {\n    if (isVoiceModeEnabled) {\n      speak(text, { action: 'text_read', questionId: 'login', metadata: { origin: 'login' } });\n    }\n  };\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n    try {\n      // ‚úÖ Use backend authentication service\n      await backendAuthService.login(email, password);\n      navigate('/dashboard');\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container min-h-screen px-4 py-10 grid place-items-center\">\n      <div className=\"w-full max-w-md rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl shadow-xl p-6\">\n        <div className=\"text-center mb-6\">\n          <h1 className=\"text-3xl font-extrabold\">‚ö° BrainBlitz</h1>\n          <h2 className=\"mt-2 text-xl font-bold\">¬°Bienvenido de nuevo!</h2>\n          <p className=\"text-white/70\">Inicia sesi√≥n para continuar tu aventura de trivia</p>\n          {isVoiceModeEnabled && (\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"mt-2\"\n              onClick={async () => {\n                const parts = []\n                parts.push('Est√°s en la p√°gina de inicio de sesi√≥n.')\n                parts.push('Ingresa tu correo electr√≥nico y contrase√±a para acceder a tu cuenta.')\n                parts.push('Si no tienes cuenta, puedes registrarte con el enlace de abajo.')\n                parts.push('Si olvidaste tu contrase√±a, puedes recuperarla.')\n                speak(parts.join(' '), { action: 'page_guide', questionId: 'login', force: true })\n              }}\n              aria-label=\"Explicar la p√°gina\"\n            >\n              üõà Explicar p√°gina\n            </Button>\n          )}\n        </div>\n\n        <form onSubmit={handleLogin} className=\"grid gap-4\">\n          <div>\n            <label className=\"block mb-1 text-sm text-white/80\" htmlFor=\"email\">Correo electr√≥nico</label>\n            <Input \n              id=\"email\" \n              type=\"email\" \n              placeholder=\"t√∫@correo.com\" \n              value={email} \n              onChange={e => setEmail(e.target.value)} \n              required \n              disabled={loading}\n              onFocus={() => announce('Campo de correo electr√≥nico')}\n            />\n          </div>\n          <div>\n            <label className=\"block mb-1 text-sm text-white/80\" htmlFor=\"password\">Contrase√±a</label>\n            <Input \n              id=\"password\" \n              type=\"password\" \n              placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\" \n              value={password} \n              onChange={e => setPassword(e.target.value)} \n              required \n              disabled={loading}\n              onFocus={() => announce('Campo de contrase√±a')}\n            />\n          </div>\n\n          {error && <Alert intent=\"error\">{error}</Alert>}\n\n          <Button \n            type=\"submit\" \n            size=\"lg\" \n            disabled={loading}\n            onFocus={() => announce('Bot√≥n para iniciar sesi√≥n')}\n            onMouseEnter={() => announce('Bot√≥n para iniciar sesi√≥n')}\n          >\n            {loading ? 'Iniciando sesi√≥n‚Ä¶' : 'Iniciar sesi√≥n'}\n          </Button>\n        </form>\n\n        <div className=\"mt-6 space-y-1 text-center text-sm\">\n          <p>\n            ¬øNo tienes cuenta? <Link \n              className=\"underline\" \n              to=\"/register\"\n              onFocus={() => announce('Enlace para registrarse')}\n              onMouseEnter={() => announce('Enlace para registrarse')}\n            >\n              Reg√≠strate aqu√≠\n            </Link>\n          </p>\n          <p>\n            <Link \n              className=\"underline\" \n              to=\"/reset\"\n              onFocus={() => announce('Enlace para recuperar contrase√±a')}\n              onMouseEnter={() => announce('Enlace para recuperar contrase√±a')}\n            >\n              ¬øOlvidaste tu contrase√±a?\n            </Link>\n          </p>\n          <p>\n            <Link \n              className=\"underline\" \n              to=\"/face-login\"\n              onFocus={() => announce('Enlace para login facial')}\n              onMouseEnter={() => announce('Enlace para login facial')}\n            >\n              üîê Iniciar sesi√≥n con reconocimiento facial\n            </Link>\n          </p>\n          <p className=\"text-white/60 text-xs mt-2\">\n            üí° ¬øNo tienes registro facial? Reg√≠strate primero y autom√°ticamente te pediremos registrar tu cara\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":["LoginPage","email","setEmail","useState","password","setPassword","error","setError","loading","setLoading","navigate","useNavigate","isVoiceModeEnabled","speak","useVoice","announce","text","handleLogin","e","backendAuthService","err","jsxs","jsx","Button","parts","Input","Alert","Link"],"mappings":"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"}