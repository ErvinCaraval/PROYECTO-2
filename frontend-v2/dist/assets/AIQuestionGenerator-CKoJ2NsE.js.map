{"version":3,"file":"AIQuestionGenerator-CKoJ2NsE.js","sources":["../../src/components/ManualQuestionForm.jsx","../../src/components/ui/Modal.jsx","../../src/components/AIQuestionGenerator.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useVoice } from '../VoiceContext';\nimport { useAuth } from '../AuthContext';\nimport Button from './ui/Button';\nimport Input from './ui/Input';\nimport Alert from './ui/Alert';\n\nconst ManualQuestionForm = ({ topics, onQuestionCreated, onCancel }) => {\n  const { isVoiceModeEnabled, speak } = useVoice();\n  const { user } = useAuth();\n  const [formData, setFormData] = useState({\n    question: '',\n    options: ['', '', '', ''],\n    correctIndex: 0,\n    selectedTopic: topics[0] || ''\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n\n  const handleOptionChange = (idx, value) => {\n    setFormData(prev => ({\n      ...prev,\n      options: prev.options.map((opt, i) => i === idx ? value : opt)\n    }));\n  };\n\n  const validateForm = useCallback(() => {\n    if (!formData.question.trim()) {\n      return 'La pregunta es requerida';\n    }\n    if (formData.options.some(opt => !opt.trim())) {\n      return 'Todas las opciones son requeridas';\n    }\n    return '';\n  }, [formData]);\n\n  useEffect(() => {\n    const validationError = validateForm();\n    setError(validationError);\n  }, [formData, user, validateForm]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const validationError = validateForm();\n    if (validationError) {\n      setError(validationError);\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n    setSuccessMessage('');\n    try {\n      // Build payload and hand off to parent for saving. Parent will perform the network request.\n      const payload = {\n        text: formData.question,\n        options: formData.options,\n        correctAnswerIndex: formData.correctIndex,\n        category: formData.selectedTopic,\n        explanation: ''\n      };\n\n      setSuccessMessage('Guardando...');\n      if (onQuestionCreated) {\n        const result = await Promise.resolve(onQuestionCreated(payload));\n        // If parent returns the saved question, show its text in the success message\n        const savedText = result && result.text ? result.text : payload.text;\n        setSuccessMessage(`Pregunta creada: \"${savedText}\"`);\n      } else {\n        setSuccessMessage('¬°Pregunta preparada!');\n      }\n    } catch (err) {\n      console.error('Error al preparar la pregunta:', err);\n      setError(err.message || 'Error al guardar la pregunta');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n  <form className=\"grid gap-4\" onSubmit={handleSubmit}>\n      {isVoiceModeEnabled && (\n        <div className=\"flex justify-end mb-2\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            type=\"button\"\n            onClick={async () => {\n              const parts = [];\n              parts.push('Formulario para escribir preguntas manualmente.');\n              parts.push('Campo Tema: selecciona el tema de la pregunta.');\n              parts.push('Campo Pregunta: escribe el texto de la pregunta.');\n              parts.push('Opciones: escribe las posibles respuestas. Marca cu√°l es la correcta con el bot√≥n de opci√≥n.');\n              parts.push('Bot√≥n Atr√°s: vuelve al generador de preguntas.');\n              parts.push('Bot√≥n Guardar: guarda la pregunta actual.');\n              await speak(parts.join(' '), { action: 'page_guide', questionId: 'manual_question_form', force: true });\n            }}\n            aria-label=\"Explicar la p√°gina\"\n          >\n            üõà Explicar p√°gina\n          </Button>\n        </div>\n      )}\n      \n      <div className=\"p-4 bg-gradient-to-br from-bb-primary/20 to-bb-primary/10 rounded-xl border-2 border-bb-primary/40 mb-4\">\n        <h3 className=\"text-lg font-bold mb-1\">‚úèÔ∏è Escribe tu pregunta</h3>\n        <p className=\"text-xs text-white/70\">Rellena todos los campos correctamente</p>\n      </div>\n\n      {error && <Alert intent=\"error\">{error}</Alert>}\n      {successMessage && <Alert intent=\"success\">{successMessage}</Alert>}\n\n      {/* Tema */}\n      <div className=\"grid gap-2\">\n        <label className=\"text-sm font-semibold text-white\" htmlFor=\"topic-select\">Tema *</label>\n        <select\n          id=\"topic-select\"\n          value={formData.selectedTopic}\n          onChange={e => setFormData(prev => ({ ...prev, selectedTopic: e.target.value }))}\n          disabled={loading}\n          className=\"block w-full rounded-xl border-2 border-white/10 bg-white/5 px-4 py-3 text-white backdrop-blur-md focus:border-bb-primary focus:ring-2 focus:ring-bb-primary/30 focus:outline-none transition\"\n        >\n          {topics.map(t => <option key={t} value={t}>{t}</option>)}\n        </select>\n      </div>\n\n      {/* Pregunta */}\n      <div className=\"grid gap-2\">\n        <label className=\"text-sm font-semibold text-white\" htmlFor=\"question-input\">Pregunta *</label>\n        <Input\n          id=\"question-input\"\n          type=\"text\"\n          value={formData.question}\n          onChange={e => setFormData(prev => ({ ...prev, question: e.target.value }))}\n          disabled={loading}\n          placeholder=\"Escribe la pregunta aqu√≠...\"\n          required\n        />\n      </div>\n\n      {/* Opciones */}\n      <div className=\"grid gap-3\">\n        <div className=\"flex items-center justify-between\">\n          <label className=\"text-sm font-semibold text-white\">Opciones de respuesta *</label>\n          <span className=\"text-xs text-white/60\">4 opciones requeridas</span>\n        </div>\n        <div className=\"grid gap-3 p-3 bg-white/5 rounded-lg border border-white/10\">\n          {formData.options.map((opt, idx) => (\n            <div key={idx} className=\"flex items-center gap-3\">\n              <span className=\"font-bold text-bb-primary text-lg min-w-[2rem]\">{String.fromCharCode(65 + idx)})</span>\n              <Input\n                type=\"text\"\n                value={opt}\n                onChange={e => handleOptionChange(idx, e.target.value)}\n                disabled={loading}\n                placeholder=\"Escribe la opci√≥n...\"\n                className=\"flex-1\"\n                required\n              />\n              <label className=\"inline-flex items-center gap-2 cursor-pointer\">\n                <input\n                  type=\"radio\"\n                  name=\"correctOption\"\n                  checked={formData.correctIndex === idx}\n                  onChange={() => setFormData(prev => ({ ...prev, correctIndex: idx }))}\n                  disabled={loading}\n                  className=\"h-5 w-5 accent-bb-primary cursor-pointer\"\n                />\n                <span className=\"text-xs text-white/70 whitespace-nowrap\">Correcta</span>\n              </label>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Resumen de respuesta correcta */}\n      <div className=\"p-3 bg-bb-primary/15 rounded-lg border border-bb-primary/40\">\n        <p className=\"text-xs text-white/70 mb-1\">Respuesta correcta seleccionada:</p>\n        <p className=\"text-sm font-semibold text-white\">\n          {String.fromCharCode(65 + formData.correctIndex)}) {formData.options[formData.correctIndex] || '(sin llenar)'}\n        </p>\n      </div>\n\n      {/* Botones de acci√≥n */}\n      <div className=\"flex gap-3 pt-2\">\n        <Button\n          type=\"button\"\n          variant=\"secondary\"\n          onClick={onCancel}\n          disabled={loading}\n          className=\"flex-1\"\n          onFocus={() => isVoiceModeEnabled && speak('Atr√°s: vuelve al generador de preguntas.', { force: true })}\n          onMouseEnter={() => isVoiceModeEnabled && speak('Atr√°s: vuelve al generador de preguntas.', { force: true })}\n        >\n          Atr√°s\n        </Button>\n        <Button\n          type=\"submit\"\n          disabled={loading}\n          className=\"flex-1\"\n          onFocus={() => isVoiceModeEnabled && speak('Guardar: guarda la pregunta actual.', { force: true })}\n          onMouseEnter={() => isVoiceModeEnabled && speak('Guardar: guarda la pregunta actual.', { force: true })}\n        >\n          {loading ? '‚è≥ Guardando‚Ä¶' : '‚úì Guardar'}\n        </Button>\n      </div>\n    </form>\n  );\n};\n\nexport default ManualQuestionForm;\n","import React, { useEffect } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\n\nexport default function Modal({ open, title, onClose, children, className = '' }) {\n  useEffect(() => {\n    const handleEsc = (e) => {\n      if (e.key === 'Escape') onClose?.()\n    }\n    if (open) document.addEventListener('keydown', handleEsc)\n    // Prevent body scroll when modal is open\n    const originalOverflow = document.body.style.overflow\n    if (open) document.body.style.overflow = 'hidden'\n    return () => {\n      document.removeEventListener('keydown', handleEsc)\n      document.body.style.overflow = originalOverflow\n    }\n  }, [open, onClose])\n\n  return (\n    <AnimatePresence>\n      {open && (\n        <motion.div className=\"fixed inset-0 z-[3000] flex items-center justify-center px-4 py-8\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}>\n          <button aria-label=\"Cerrar\" className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\" onClick={onClose} />\n          <motion.div role=\"dialog\" aria-modal=\"true\" className={`relative w-full max-w-2xl max-h-[85vh] overflow-auto rounded-2xl border border-white/10 bg-bb-bg-primary/90 shadow-xl ${className}`} initial={{ scale: 0.98, y: 10, opacity: 0 }} animate={{ scale: 1, y: 0, opacity: 1 }} exit={{ scale: 0.98, y: 10, opacity: 0 }} transition={{ type: 'spring', stiffness: 200, damping: 22 }}>\n            <div className=\"sticky top-0 z-10 flex items-start justify-between gap-4 px-6 py-5 border-b border-white/10 bg-bb-bg-primary/90\">\n              {title ? <h2 className=\"text-xl md:text-2xl font-bold\">{title}</h2> : <span className=\"sr-only\">Modal</span>}\n              <button onClick={onClose} className=\"rounded-md p-2 hover:bg-white/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-bb-primary\" aria-label=\"Cerrar\">‚úï</button>\n            </div>\n            <div className=\"px-6 py-5\">\n              {children}\n            </div>\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  )\n}\n\n","import React, { useState, useEffect } from 'react';\nimport { useVoice } from '../VoiceContext';\nimport { useAuth } from '../AuthContext';\nimport ManualQuestionForm from './ManualQuestionForm';\nimport OCRQuestionCapture from './OCRQuestionCapture';\nimport { fetchTopics, fetchDifficultyLevels } from '../services/api';\nimport Button from './ui/Button';\nimport Input from './ui/Input';\nimport Alert from './ui/Alert';\nimport Modal from './ui/Modal';\nimport Spinner from './ui/Spinner';\nimport LoadingOverlay from './ui/LoadingOverlay';\n\nconst AIQuestionGenerator = ({ onQuestionsGenerated, onClose }) => {\n  const { isVoiceModeEnabled, speak } = useVoice();\n  const { user } = useAuth();\n  const [topics, setTopics] = useState([]);\n  const [selectedTopic, setSelectedTopic] = useState('');\n  const [selectedDifficulty, setSelectedDifficulty] = useState('medium');\n  const [questionCount, setQuestionCount] = useState(null);\n  const [questionCountInput, setQuestionCountInput] = useState('');\n  const [useAI, setUseAI] = useState(false);\n  const [showManualForm, setShowManualForm] = useState(false);\n  const [showOCRForm, setShowOCRForm] = useState(false);\n  const [manualCount, setManualCount] = useState(null);\n  const [manualCountInput, setManualCountInput] = useState('');\n  const [manualStep, setManualStep] = useState(0);\n  const [manualQuestions, setManualQuestions] = useState([]);\n  const [manualTopic, setManualTopic] = useState('');\n  const [ocrQuestions, setOcrQuestions] = useState([]);\n  const [successMessage, setSuccessMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  \n  const [error, setError] = useState('');\n  const [statusMessage, setStatusMessage] = useState('');\n  const [difficultyLevels, setDifficultyLevels] = useState([]);\n\n  useEffect(() => {\n    loadTopics();\n    loadDifficultyLevels();\n  }, []);\n\n  // Mantener inputs string sincronizados cuando el valor num√©rico cambie por stepper u otros\n  useEffect(() => { setQuestionCountInput(typeof questionCount === 'number' ? String(questionCount) : ''); }, [questionCount]);\n  useEffect(() => { setManualCountInput(typeof manualCount === 'number' ? String(manualCount) : ''); }, [manualCount]);\n\n  const loadTopics = async () => {\n    try {\n      const topics = await fetchTopics();\n      setTopics(topics);\n      if (topics.length > 0) {\n        setSelectedTopic(topics[0]);\n      }\n    } catch (error) {\n      setError('Error obteniendo temas. Por favor intenta de nuevo.');\n    }\n  };\n\n  const loadDifficultyLevels = async () => {\n    try {\n      const levels = await fetchDifficultyLevels();\n      setDifficultyLevels(levels);\n    } catch (error) {\n      setError('No se pudieron cargar los niveles de dificultad. Por favor, intenta de nuevo m√°s tarde.');\n    }\n  };\n\n  const generateQuestions = async () => {\n    if (!selectedTopic) {\n      setError('Por favor selecciona un tema v√°lido');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      const apiBase = import.meta.env.VITE_API_URL;\n      if (!apiBase) {\n        setError('Error de configuraci√≥n: URL del API no definida');\n        return;\n      }\n      const token = user && user.getIdToken ? await user.getIdToken() : null;\n      const response = await fetch(`${apiBase}/ai/generate-questions`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...(token ? { Authorization: `Bearer ${token}` } : {})\n        },\n        body: JSON.stringify({\n          topic: selectedTopic,\n          difficulty: selectedDifficulty,\n          count: questionCount,\n          useAI: useAI\n        }),\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        // Guardar preguntas en Firestore y esperar confirmaci√≥n exitosa antes de crear la partida\n        const questionsWithMeta = data.questions.map(q => ({\n          // Si las opciones existen, barajarlas y actualizar el √≠ndice de la respuesta correcta de forma robusta\n          ...(() => {\n            if (!Array.isArray(q.options) || typeof q.correctAnswerIndex !== 'number') return q;\n            // Asociar cada opci√≥n con su √≠ndice original\n            const optionsWithIndex = q.options.map((opt, idx) => ({ opt, origIdx: idx }));\n            // Barajar\n            for (let i = optionsWithIndex.length - 1; i > 0; i--) {\n              const j = Math.floor(Math.random() * (i + 1));\n              [optionsWithIndex[i], optionsWithIndex[j]] = [optionsWithIndex[j], optionsWithIndex[i]];\n            }\n            // Buscar la nueva posici√≥n de la opci√≥n que era la correcta\n            const newCorrectIndex = optionsWithIndex.findIndex(o => o.origIdx === q.correctAnswerIndex);\n            return {\n              ...q,\n              options: optionsWithIndex.map(o => o.opt),\n              correctAnswerIndex: newCorrectIndex\n            };\n          })(),\n          createdBy: user?.uid || 'anon',\n          createdAt: Date.now(),\n          category: selectedTopic,\n          difficulty: selectedDifficulty\n        }));\n        let saveOk = false;\n        try {\n          const bulkToken = user && user.getIdToken ? await user.getIdToken() : null;\n          const response = await fetch(`${apiBase}/questions/bulk`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              ...(bulkToken ? { Authorization: `Bearer ${bulkToken}` } : {})\n            },\n            body: JSON.stringify({ questions: questionsWithMeta })\n          });\n          const result = await response.json();\n          if (!result.success) {\n            setError((prev) => (prev ? prev + ' | ' : '') + (result.error || 'Error guardando preguntas en Firestore'));\n            setError('No se pudieron guardar las preguntas. ' + (result.error || 'Por favor, intenta de nuevo.'));\n          } else {\n            saveOk = true;\n          }\n        } catch (e) {\n          setError('Ocurri√≥ un error al guardar las preguntas. Por favor, verifica tu conexi√≥n e intenta de nuevo.');\n        }\n        if (!saveOk) {\n          setLoading(false);\n          return;\n        }\n        // Redirigir al usuario a la pantalla principal para que pueda crear la partida manualmente\n        onQuestionsGenerated(data.questions);\n        setLoading(false);\n        // No navegues ni cierres aqu√≠, deja que el Dashboard controle el cierre\n      } else {\n        setError(data.error || 'Error generando preguntas');\n        setError('No se pudieron generar las preguntas: ' + (data.error || 'Por favor, intenta de nuevo.'));\n      }\n    } catch (error) {\n      setError('Error de conexi√≥n. Por favor, verifica tu conexi√≥n a internet e intenta nuevamente.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Mantener vac√≠o por defecto; no autocompletar cantidad\n\n  return (\n    <Modal open={true} title=\"ü§ñ Generador de Preguntas\" onClose={onClose}>\n      {isVoiceModeEnabled && (!showManualForm && !showOCRForm) && (\n        <div className=\"flex justify-end mb-2\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            type=\"button\"\n            onClick={async () => {\n              const parts = [];\n              if (!showManualForm && !useAI) {\n                parts.push('Est√°s en el generador de preguntas.');\n                parts.push('Bot√≥n Crear con IA: genera preguntas autom√°ticamente usando inteligencia artificial.');\n                parts.push('Bot√≥n Escribir preguntas: te permite escribir preguntas manualmente.');\n                parts.push('Selecciona una opci√≥n para continuar.');\n              } else if (useAI && !showManualForm) {\n                parts.push('Formulario para generar preguntas con inteligencia artificial.');\n                parts.push('Campo Tema: selecciona el tema de las preguntas.');\n                parts.push('Campo Dificultad: elige la dificultad.');\n                parts.push('Campo Cantidad: indica cu√°ntas preguntas quieres generar.');\n                parts.push('Bot√≥n Crear preguntas: genera las preguntas.');\n                parts.push('Bot√≥n Atr√°s: vuelve a la pantalla anterior.');\n              }\n              await speak(parts.join(' '), { action: 'page_guide', questionId: 'ai_question_generator', force: true });\n            }}\n            aria-label=\"Explicar la p√°gina\"\n            onFocus={() => speak('Explicar p√°gina: describe la funci√≥n de cada bot√≥n y campo en esta vista.', { force: true })}\n            onMouseEnter={() => speak('Explicar p√°gina: describe la funci√≥n de cada bot√≥n y campo en esta vista.', { force: true })}\n          >\n            üõà Explicar p√°gina\n          </Button>\n        </div>\n      )}\n      {loading && <LoadingOverlay text=\"Generando‚Ä¶\" mobileOnly />}\n      {error && <Alert intent=\"error\">{error}</Alert>}\n      {statusMessage && <Alert intent=\"success\">{statusMessage}</Alert>}\n      {!showManualForm && !useAI && !showOCRForm && (\n        <div className=\"flex flex-col gap-3\">\n          <Button\n            onClick={() => setUseAI(true)}\n            size=\"lg\"\n            onFocus={() => isVoiceModeEnabled && speak('Crear con IA: genera preguntas autom√°ticamente usando inteligencia artificial.', { force: true })}\n            onMouseEnter={() => isVoiceModeEnabled && speak('Crear con IA: genera preguntas autom√°ticamente usando inteligencia artificial.', { force: true })}\n          >\n            ü§ñ Crear con IA\n          </Button>\n          <Button\n            variant=\"secondary\"\n            size=\"lg\"\n            onClick={() => { setShowManualForm(true); setUseAI(false); setManualStep(0); setManualQuestions([]); }}\n            onFocus={() => isVoiceModeEnabled && speak('Escribir preguntas: te permite escribir preguntas manualmente.', { force: true })}\n            onMouseEnter={() => isVoiceModeEnabled && speak('Escribir preguntas: te permite escribir preguntas manualmente.', { force: true })}\n          >\n            ‚úèÔ∏è Escribir preguntas\n          </Button>\n          <Button\n            variant=\"secondary\"\n            size=\"lg\"\n            onClick={() => { setShowOCRForm(true); setUseAI(false); }}\n            onFocus={() => isVoiceModeEnabled && speak('Capturar pregunta: extrae preguntas de im√°genes usando OCR.', { force: true })}\n            onMouseEnter={() => isVoiceModeEnabled && speak('Capturar pregunta: extrae preguntas de im√°genes usando OCR.', { force: true })}\n          >\n            üì∏ Capturar pregunta\n          </Button>\n        </div>\n      )}\n      {!showManualForm && useAI && !showOCRForm && (\n        <form\n          className=\"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-4\"\n          onSubmit={async (e) => {\n            e.preventDefault();\n            setLoading(true);\n            setError('');\n            try {\n              await generateQuestions();\n              setError('');\n            } catch (err) {\n              setError('Error al generar preguntas. Por favor, int√©ntalo de nuevo.');\n            } finally {\n              setLoading(false);\n            }\n          }}\n        >\n          <div>\n            <label htmlFor=\"topic\" className=\"block mb-1 text-sm text-white/80\">Tema</label>\n            <select\n              id=\"topic\"\n              className=\"block w-full rounded-xl border-2 border-white/10 bg-white/5 px-4 py-3 text-white backdrop-blur-md focus:border-bb-primary focus:ring-2 focus:ring-bb-primary/30 focus:outline-none\"\n              value={selectedTopic}\n              onChange={(e) => setSelectedTopic(e.target.value)}\n              disabled={topics.length === 0}\n            >\n              {topics.length === 0 ? (\n                <option value=\"\">No hay temas</option>\n              ) : (\n                topics.map(topic => (\n                  <option key={topic} value={topic}>{topic}</option>\n                ))\n              )}\n            </select>\n          </div>\n          <div>\n            <label htmlFor=\"difficulty\" className=\"block mb-1 text-sm text-white/80\">Dificultad</label>\n            <select\n              id=\"difficulty\"\n              className=\"block w-full rounded-xl border-2 border-white/10 bg-white/5 px-4 py-3 text-white backdrop-blur-md focus:border-bb-primary focus:ring-2 focus:ring-bb-primary/30 focus:outline-none\"\n              value={selectedDifficulty}\n              onChange={(e) => setSelectedDifficulty(e.target.value)}\n            >\n              <option value=\"easy\">F√°cil</option>\n              <option value=\"medium\">Media</option>\n              <option value=\"hard\">Dif√≠cil</option>\n            </select>\n          </div>\n          <div>\n            <label htmlFor=\"numQuestions\" className=\"block mb-1 text-sm text-white/80\">Cantidad</label>\n              <div>\n                <Input\n                id=\"numQuestions\"\n                type=\"text\"\n                inputMode=\"numeric\"\n                pattern=\"[0-9]*\"\n                value={questionCountInput}\n                onChange={(e) => {\n                  const digits = e.target.value.replace(/\\D+/g, '')\n                  setQuestionCountInput(digits)\n                  const num = digits ? parseInt(digits, 10) : NaN\n                  if (!Number.isNaN(num)) setQuestionCount(num); else setQuestionCount(null)\n                }}\n                onBlur={() => {\n                  const num = parseInt(questionCountInput || '', 10)\n                  if (Number.isNaN(num) || num < 1) {\n                    setQuestionCount(null)\n                    setQuestionCountInput('')\n                    return\n                  }\n                  const normalized = Math.max(1, num)\n                  setQuestionCount(normalized)\n                  setQuestionCountInput(String(normalized))\n                }}\n                required\n                placeholder=\"Cantidad\"\n                className=\"w-28 text-center\"\n              />\n              {(questionCountInput === '' || questionCount === null) && (\n                <div className={`mt-1 text-xs ${questionCountInput === '' ? 'text-white/60' : 'text-red-300'}`}>\n                  {questionCountInput === '' ? 'Ingresa un n√∫mero (>= 1)' : 'Valor inv√°lido'}\n                </div>\n              )}\n              </div>\n          </div>\n          {error && <Alert intent=\"error\" className=\"sm:col-span-3\">{error}</Alert>}\n          <div className=\"sm:col-span-3 mt-2 flex flex-wrap gap-3 justify-end items-center\">\n            <Button\n              type=\"button\"\n              variant=\"secondary\"\n              onClick={() => setUseAI(false)}\n              disabled={loading}\n              onFocus={() => isVoiceModeEnabled && speak('Atr√°s: vuelve a la pantalla anterior.', { force: true })}\n              onMouseEnter={() => isVoiceModeEnabled && speak('Atr√°s: vuelve a la pantalla anterior.', { force: true })}\n            >\n              Atr√°s\n            </Button>\n            <Button\n              type=\"submit\"\n              disabled={loading}\n              onFocus={() => isVoiceModeEnabled && speak('Crear preguntas: genera las preguntas con inteligencia artificial.', { force: true })}\n              onMouseEnter={() => isVoiceModeEnabled && speak('Crear preguntas: genera las preguntas con inteligencia artificial.', { force: true })}\n            >\n              {loading ? (<><Spinner size={16} className=\"mr-2\" />Creando‚Ä¶</>) : 'Crear preguntas'}\n            </Button>\n          </div>\n        </form>\n      )}\n      {showManualForm && (\n        <div className=\"mt-2\">\n          {manualStep === 0 ? (\n            <form\n              className=\"grid grid-cols-1 gap-4\"\n              onSubmit={e => { e.preventDefault(); setManualStep(1); setManualQuestions([]); setManualTopic(selectedTopic); }}\n            >\n              <div>\n                <label className=\"block mb-1 text-sm text-white/80\">Tema</label>\n                <select\n                  value={selectedTopic}\n                  onChange={e => setSelectedTopic(e.target.value)}\n                  className=\"block w-full rounded-xl border-2 border-white/10 bg-white/5 px-4 py-3 text-white backdrop-blur-md focus:border-bb-primary focus:ring-2 focus:ring-bb-primary/30 focus:outline-none\"\n                >\n                  {topics.map(t => <option key={t} value={t}>{t}</option>)}\n                </select>\n              </div>\n              <div>\n                <label className=\"block mb-1 text-sm text-white/80\">¬øCu√°ntas preguntas?</label>\n                <div>\n                  <Input\n                    type=\"text\"\n                    inputMode=\"numeric\"\n                    pattern=\"[0-9]*\"\n                    value={manualCountInput}\n                    onChange={e => {\n                      const digits = e.target.value.replace(/\\D+/g, '')\n                      setManualCountInput(digits)\n                      const num = digits ? parseInt(digits, 10) : NaN\n                      if (!Number.isNaN(num)) setManualCount(num); else setManualCount(null)\n                    }}\n                    onBlur={() => {\n                      const num = parseInt(manualCountInput || '', 10)\n                      if (Number.isNaN(num) || num < 1) {\n                        setManualCount(null)\n                        setManualCountInput('')\n                        return\n                      }\n                      const normalized = Math.max(1, num)\n                      setManualCount(normalized)\n                      setManualCountInput(String(normalized))\n                    }}\n                    required\n                    placeholder=\"Cantidad\"\n                    className=\"w-28 text-center\"\n                  />\n                  {(manualCountInput === '' || manualCount === null) && (\n                    <div className={`mt-1 text-xs ${manualCountInput === '' ? 'text-white/60' : 'text-red-300'}`}>\n                      {manualCountInput === '' ? 'Ingresa un n√∫mero (>= 1)' : 'Valor inv√°lido'}\n                    </div>\n                  )}\n                </div>\n              </div>\n              <div className=\"flex justify-end gap-3\">\n                <Button\n                  type=\"button\"\n                  variant=\"secondary\"\n                  onClick={() => setShowManualForm(false)}\n                  onFocus={() => isVoiceModeEnabled && speak('Volver: cierra el formulario de preguntas manuales y regresa a la pantalla anterior.', { force: true })}\n                  onMouseEnter={() => isVoiceModeEnabled && speak('Volver: cierra el formulario de preguntas manuales y regresa a la pantalla anterior.', { force: true })}\n                >\n                  Volver\n                </Button>\n                <Button\n                  type=\"submit\"\n                  onFocus={() => isVoiceModeEnabled && speak('Empezar: inicia la creaci√≥n manual de preguntas.', { force: true })}\n                  onMouseEnter={() => isVoiceModeEnabled && speak('Empezar: inicia la creaci√≥n manual de preguntas.', { force: true })}\n                >\n                  Empezar\n                </Button>\n              </div>\n            </form>\n          ) : (\n            <div>\n              <div className=\"text-center mb-3 font-bold\">¬°Vamos! Pregunta {manualQuestions.length + 1} de {manualCount}</div>\n              <ManualQuestionForm\n                topics={[manualTopic]}\n                onQuestionCreated={async (q) => {\n                                    // q is the payload prepared by the child\n                                    try {\n                                      setLoading(true);\n                                      setError('');\n\n                                      const apiBase = import.meta.env.VITE_API_URL;\n                                      if (!apiBase) {\n                                        throw new Error('Error de configuraci√≥n: URL del API no definida');\n                                      }\n                                      if (!user || !user.getIdToken) {\n                                        throw new Error('Debes iniciar sesi√≥n para crear preguntas');\n                                      }\n                                      const token = await user.getIdToken();\n\n                                      // Save single question\n                                      const response = await fetch(`${apiBase}/questions`, {\n                                        method: 'POST',\n                                        headers: {\n                                          'Content-Type': 'application/json',\n                                          Authorization: `Bearer ${token}`\n                                        },\n                                        body: JSON.stringify(q)\n                                      });\n\n                                      const data = await response.json();\n                                      if (!response.ok) {\n                                        throw new Error(data.error || 'Error al guardar la pregunta');\n                                      }\n\n                                      const saved = data.question || { ...q };\n                                      const next = [...manualQuestions, { ...saved, category: manualTopic }];\n\n                                      // If last question, bulk save (server may already store them individually, but keep compatibility)\n                                      if (next.length === manualCount) {\n                                        // Do a bulk save to keep existing API usage\n                                        const bulkResp = await fetch(`${apiBase}/questions/bulk`, {\n                                          method: 'POST',\n                                          headers: {\n                                            'Content-Type': 'application/json',\n                                            Authorization: `Bearer ${token}`\n                                          },\n                                          body: JSON.stringify({ questions: next })\n                                        });\n                                        const bulkData = await bulkResp.json();\n                                        if (!bulkResp.ok) {\n                                          throw new Error(bulkData.error || 'Error al guardar las preguntas en lote');\n                                        }\n\n                                        if (onQuestionsGenerated) {\n                                          onQuestionsGenerated(next);\n                                        }\n\n                                        setStatusMessage('¬°Todas las preguntas han sido guardadas exitosamente!');\n                                        setTimeout(() => {\n                                          setShowManualForm(false);\n                                          setStatusMessage('');\n                                        }, 1500);\n                                        return next;\n                                      } else {\n                                        setManualQuestions(next);\n                                        setManualStep(prev => prev + 1);\n                                        setStatusMessage(`¬°Pregunta ${next.length} de ${manualCount} guardada exitosamente!`);\n                                        setTimeout(() => setStatusMessage(''), 1500);\n                                        return saved;\n                                      }\n                                    } catch (error) {\n                                      setError('No se pudo guardar la pregunta: ' + (error.message || 'Por favor, intenta de nuevo.'));\n                                    } finally {\n                                      setLoading(false);\n                                    }\n                                  }}\n                                  onCancel={() => { setShowManualForm(false); }}\n                                />\n            </div>\n          )}\n        </div>\n      )}\n      {showOCRForm && (\n        <OCRQuestionCapture\n          topics={topics}\n          onQuestionExtracted={async (questionPayload) => {\n            setLoading(true);\n            setError('');\n            try {\n              const apiBase = import.meta.env.VITE_API_URL;\n              const token = user && user.getIdToken ? await user.getIdToken() : null;\n              const response = await fetch(`${apiBase}/questions`, {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json',\n                  ...(token ? { Authorization: `Bearer ${token}` } : {})\n                },\n                body: JSON.stringify(questionPayload)\n              });\n\n              if (response.ok) {\n                const result = await response.json();\n                const savedQuestion = result.question || { ...questionPayload };\n                const updatedQuestions = [...ocrQuestions, savedQuestion];\n                setOcrQuestions(updatedQuestions);\n                \n                setStatusMessage(`‚úÖ Pregunta ${updatedQuestions.length} guardada exitosamente. Puedes agregar m√°s o finalizar.`);\n                setLoading(false);\n                \n                // Mantener modal abierto para agregar m√°s preguntas\n                // No cierra autom√°ticamente despu√©s de guardar\n              } else {\n                setError('No se pudo guardar la pregunta');\n                setLoading(false);\n              }\n            } catch (error) {\n              setError('Error al guardar la pregunta: ' + (error.message || 'Por favor, intenta de nuevo.'));\n              setLoading(false);\n            }\n          }}\n          onCancel={() => { \n            setShowOCRForm(false);\n            \n            // Si hay preguntas guardadas, notifica al parent\n            if (ocrQuestions.length > 0) {\n              setStatusMessage(`‚úÖ Se guardaron ${ocrQuestions.length} pregunta(s) de OCR`);\n              \n              setTimeout(() => {\n                onQuestionsGenerated(ocrQuestions);\n                setOcrQuestions([]);\n                setStatusMessage('');\n              }, 1500);\n            }\n          }}\n        />\n      )}\n    </Modal>\n  );\n}\n\nexport default AIQuestionGenerator;"],"names":["ManualQuestionForm","topics","onQuestionCreated","onCancel","isVoiceModeEnabled","speak","useVoice","user","useAuth","formData","setFormData","useState","error","setError","loading","setLoading","successMessage","setSuccessMessage","handleOptionChange","idx","value","prev","opt","i","validateForm","useCallback","useEffect","validationError","handleSubmit","e","payload","result","savedText","err","jsxs","jsx","Button","parts","Alert","t","Input","Modal","open","title","onClose","children","className","handleEsc","originalOverflow","AnimatePresence","motion","AIQuestionGenerator","onQuestionsGenerated","setTopics","selectedTopic","setSelectedTopic","selectedDifficulty","setSelectedDifficulty","questionCount","setQuestionCount","questionCountInput","setQuestionCountInput","useAI","setUseAI","showManualForm","setShowManualForm","showOCRForm","setShowOCRForm","manualCount","setManualCount","manualCountInput","setManualCountInput","manualStep","setManualStep","manualQuestions","setManualQuestions","manualTopic","setManualTopic","ocrQuestions","setOcrQuestions","statusMessage","setStatusMessage","difficultyLevels","setDifficultyLevels","loadTopics","loadDifficultyLevels","fetchTopics","levels","fetchDifficultyLevels","generateQuestions","apiBase","token","data","questionsWithMeta","q","optionsWithIndex","j","newCorrectIndex","o","saveOk","bulkToken","LoadingOverlay","topic","digits","num","normalized","Fragment","Spinner","response","saved","next","bulkResp","bulkData","OCRQuestionCapture","questionPayload","savedQuestion","updatedQuestions"],"mappings":"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"}