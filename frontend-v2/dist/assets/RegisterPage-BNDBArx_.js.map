{"version":3,"file":"RegisterPage-BNDBArx_.js","sources":["../../src/pages/RegisterPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { auth, db } from '../services/firebase';\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\nimport { doc, setDoc } from 'firebase/firestore';\nimport { useNavigate, Link } from 'react-router-dom';\nimport Button from '../components/ui/Button';\nimport Input from '../components/ui/Input';\nimport Alert from '../components/ui/Alert';\n\nexport default function RegisterPage() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [visualDifficulty, setVisualDifficulty] = useState(false);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n      // The Firebase SDK signs the user in automatically after successful signup.\n      // Guardar visualDifficulty en Firestore si est√° marcado\n      if (visualDifficulty && userCredential.user) {\n        await setDoc(doc(db, 'users', userCredential.user.uid), {\n          email: email,\n          visualDifficulty: true,\n          stats: { gamesPlayed: 0, wins: 0, correctAnswers: 0 }\n        }, { merge: true });\n      }\n      // Redirigir directamente a registro facial despu√©s de crear la cuenta\n      navigate('/face-register');\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container min-h-screen px-4 py-10 grid place-items-center\">\n      <div className=\"w-full max-w-md rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl shadow-xl p-6\">\n        <div className=\"text-center mb-6\">\n          <h1 className=\"text-3xl font-extrabold\">‚ö° BrainBlitz</h1>\n          <h2 className=\"mt-2 text-xl font-bold\">¬°√önete a la diversi√≥n!</h2>\n          <p className=\"text-white/70\">Crea tu cuenta y comienza a jugar</p>\n        </div>\n\n        <form onSubmit={handleRegister} className=\"grid gap-4\">\n          <div>\n            <label className=\"block mb-1 text-sm text-white/80\" htmlFor=\"email\">Correo electr√≥nico</label>\n            <Input id=\"email\" type=\"email\" placeholder=\"t√∫@correo.com\" value={email} onChange={e => setEmail(e.target.value)} required disabled={loading} />\n          </div>\n          <div>\n            <label className=\"block mb-1 text-sm text-white/80\" htmlFor=\"password\">Contrase√±a</label>\n            <Input id=\"password\" type=\"password\" placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\" value={password} onChange={e => setPassword(e.target.value)} required disabled={loading} />\n          </div>\n\n          <div className=\"flex items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/10\">\n            <input\n              id=\"visualDifficulty\"\n              type=\"checkbox\"\n              checked={visualDifficulty}\n              onChange={e => setVisualDifficulty(e.target.checked)}\n              disabled={loading}\n              className=\"h-4 w-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500 focus:ring-2\"\n            />\n            <label htmlFor=\"visualDifficulty\" className=\"text-sm text-white/80 cursor-pointer\">\n              Tengo dificultades visuales\n            </label>\n          </div>\n\n          {error && <Alert intent=\"error\">{error}</Alert>}\n\n          <Button type=\"submit\" size=\"lg\" disabled={loading}>\n            {loading ? 'Creando cuenta‚Ä¶' : 'Crear cuenta'}\n          </Button>\n        </form>\n\n        <div className=\"mt-6 text-center text-sm space-y-2\">\n          <p>\n            ¬øYa tienes cuenta? <Link className=\"underline\" to=\"/login\">Inicia sesi√≥n aqu√≠</Link>\n          </p>\n          <p className=\"text-white/60 text-xs\">\n            üí° Despu√©s de crear tu cuenta, autom√°ticamente te pediremos registrar tu cara para habilitar el login facial\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":["RegisterPage","email","setEmail","useState","password","setPassword","visualDifficulty","setVisualDifficulty","error","setError","loading","setLoading","navigate","useNavigate","handleRegister","e","userCredential","createUserWithEmailAndPassword","auth","setDoc","doc","db","err","jsxs","jsx","Input","Alert","Button","Link"],"mappings":"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"}